{
  "version": 3,
  "sources": ["../node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js", "../src/modules/utils.ts", "../src/modules/bcModSdk.ts", "../src/modules/storage.ts", "../src/modules/remoteControl.ts", "../src/guiSubscreens/baseGuiSubscreen.ts", "../src/guiSubscreens/remoteControl.ts", "../src/guiSubscreens/misc.ts", "../src/modules/deviousPadlock.ts", "../src/guiSubscreens/emergencyResetDeviousPadlocks.ts", "../src/guiSubscreens/deviousPadlock.ts", "../src/guiSubscreens/mainMenu.ts", "../src/modules/guiSubscreensController.ts", "../src/modules/settingsMenu.ts", "../src/modules/commands.ts", "../src/styles.css", "../src/index.ts"],
  "sourcesContent": ["// Bondage Club Mod Development Kit (1.2.0)\n// For more info see: https://github.com/Jomshir98/bondage-club-mod-sdk\n/** @type {ModSDKGlobalAPI} */\nvar bcModSdk=function(){\"use strict\";const o=\"1.2.0\";function e(o){alert(\"Mod ERROR:\\n\"+o);const e=new Error(o);throw console.error(e),e}const t=new TextEncoder;function n(o){return!!o&&\"object\"==typeof o&&!Array.isArray(o)}function r(o){const e=new Set;return o.filter((o=>!e.has(o)&&e.add(o)))}const i=new Map,a=new Set;function c(o){a.has(o)||(a.add(o),console.warn(o))}function s(o){const e=[],t=new Map,n=new Set;for(const r of f.values()){const i=r.patching.get(o.name);if(i){e.push(...i.hooks);for(const[e,a]of i.patches.entries())t.has(e)&&t.get(e)!==a&&c(`ModSDK: Mod '${r.name}' is patching function ${o.name} with same pattern that is already applied by different mod, but with different pattern:\\nPattern:\\n${e}\\nPatch1:\\n${t.get(e)||\"\"}\\nPatch2:\\n${a}`),t.set(e,a),n.add(r.name)}}e.sort(((o,e)=>e.priority-o.priority));const r=function(o,e){if(0===e.size)return o;let t=o.toString().replaceAll(\"\\r\\n\",\"\\n\");for(const[n,r]of e.entries())t.includes(n)||c(`ModSDK: Patching ${o.name}: Patch ${n} not applied`),t=t.replaceAll(n,r);return(0,eval)(`(${t})`)}(o.original,t);let i=function(e){var t,i;const a=null===(i=(t=m.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(t,o.name,n),c=r.apply(this,e);return null==a||a(),c};for(let t=e.length-1;t>=0;t--){const n=e[t],r=i;i=function(e){var t,i;const a=null===(i=(t=m.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(t,o.name,n.mod),c=n.hook.apply(this,[e,o=>{if(1!==arguments.length||!Array.isArray(e))throw new Error(`Mod ${n.mod} failed to call next hook: Expected args to be array, got ${typeof o}`);return r.call(this,o)}]);return null==a||a(),c}}return{hooks:e,patches:t,patchesSources:n,enter:i,final:r}}function l(o,e=!1){let r=i.get(o);if(r)e&&(r.precomputed=s(r));else{let e=window;const a=o.split(\".\");for(let t=0;t<a.length-1;t++)if(e=e[a[t]],!n(e))throw new Error(`ModSDK: Function ${o} to be patched not found; ${a.slice(0,t+1).join(\".\")} is not object`);const c=e[a[a.length-1]];if(\"function\"!=typeof c)throw new Error(`ModSDK: Function ${o} to be patched not found`);const l=function(o){let e=-1;for(const n of t.encode(o)){let o=255&(e^n);for(let e=0;e<8;e++)o=1&o?-306674912^o>>>1:o>>>1;e=e>>>8^o}return((-1^e)>>>0).toString(16).padStart(8,\"0\").toUpperCase()}(c.toString().replaceAll(\"\\r\\n\",\"\\n\")),d={name:o,original:c,originalHash:l};r=Object.assign(Object.assign({},d),{precomputed:s(d),router:()=>{},context:e,contextProperty:a[a.length-1]}),r.router=function(o){return function(...e){return o.precomputed.enter.apply(this,[e])}}(r),i.set(o,r),e[r.contextProperty]=r.router}return r}function d(){for(const o of i.values())o.precomputed=s(o)}function p(){const o=new Map;for(const[e,t]of i)o.set(e,{name:e,original:t.original,originalHash:t.originalHash,sdkEntrypoint:t.router,currentEntrypoint:t.context[t.contextProperty],hookedByMods:r(t.precomputed.hooks.map((o=>o.mod))),patchedByMods:Array.from(t.precomputed.patchesSources)});return o}const f=new Map;function u(o){f.get(o.name)!==o&&e(`Failed to unload mod '${o.name}': Not registered`),f.delete(o.name),o.loaded=!1,d()}function g(o,t){o&&\"object\"==typeof o||e(\"Failed to register mod: Expected info object, got \"+typeof o),\"string\"==typeof o.name&&o.name||e(\"Failed to register mod: Expected name to be non-empty string, got \"+typeof o.name);let r=`'${o.name}'`;\"string\"==typeof o.fullName&&o.fullName||e(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof o.fullName}`),r=`'${o.fullName} (${o.name})'`,\"string\"!=typeof o.version&&e(`Failed to register mod ${r}: Expected version to be string, got ${typeof o.version}`),o.repository||(o.repository=void 0),void 0!==o.repository&&\"string\"!=typeof o.repository&&e(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof o.version}`),null==t&&(t={}),t&&\"object\"==typeof t||e(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,a=f.get(o.name);a&&(a.allowReplace&&i||e(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\\nWas the mod loaded multiple times?`),u(a));const c=o=>{let e=g.patching.get(o.name);return e||(e={hooks:[],patches:new Map},g.patching.set(o.name,e)),e},s=(o,t)=>(...n)=>{var i,a;const c=null===(a=(i=m.errorReporterHooks).apiEndpointEnter)||void 0===a?void 0:a.call(i,o,g.name);g.loaded||e(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==c||c(),s},p={unload:s(\"unload\",(()=>u(g))),hookFunction:s(\"hookFunction\",((o,t,n)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const i=l(o),a=c(i);\"number\"!=typeof t&&e(`Mod ${r} failed to hook function '${o}': Expected priority number, got ${typeof t}`),\"function\"!=typeof n&&e(`Mod ${r} failed to hook function '${o}': Expected hook function, got ${typeof n}`);const s={mod:g.name,priority:t,hook:n};return a.hooks.push(s),d(),()=>{const o=a.hooks.indexOf(s);o>=0&&(a.hooks.splice(o,1),d())}})),patchFunction:s(\"patchFunction\",((o,t)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const i=l(o),a=c(i);n(t)||e(`Mod ${r} failed to patch function '${o}': Expected patches object, got ${typeof t}`);for(const[n,i]of Object.entries(t))\"string\"==typeof i?a.patches.set(n,i):null===i?a.patches.delete(n):e(`Mod ${r} failed to patch function '${o}': Invalid format of patch '${n}'`);d()})),removePatches:s(\"removePatches\",(o=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof o}`);const t=l(o);c(t).patches.clear(),d()})),callOriginal:s(\"callOriginal\",((o,t,n)=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to call a function: Expected function name string, got ${typeof o}`);const i=l(o);return Array.isArray(t)||e(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=n?n:globalThis,t)})),getOriginalHash:s(\"getOriginalHash\",(o=>{\"string\"==typeof o&&o||e(`Mod ${r} failed to get hash: Expected function name string, got ${typeof o}`);return l(o).originalHash}))},g={name:o.name,fullName:o.fullName,version:o.version,repository:o.repository,allowReplace:i,api:p,loaded:!0,patching:new Map};return f.set(o.name,g),Object.freeze(p)}function h(){const o=[];for(const e of f.values())o.push({name:e.name,fullName:e.fullName,version:e.version,repository:e.repository});return o}let m;const y=void 0===window.bcModSdk?window.bcModSdk=function(){const e={version:o,apiVersion:1,registerMod:g,getModsInfo:h,getPatchingInfo:p,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return m=e,Object.freeze(e)}():(n(window.bcModSdk)||e(\"Failed to init Mod SDK: Name already in use\"),1!==window.bcModSdk.apiVersion&&e(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==o&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);return\"undefined\"!=typeof exports&&(Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=y),y}();\n", "import { getModVersion } from \"@/index\";\nimport { modStorage } from \"./storage\";\n\nexport function sleep(ms: number): Promise<() => {}> {\n\treturn new Promise((resolve) => setTimeout(resolve, ms));\n}\n\nexport async function waitFor(func: () => boolean, cancelFunc = () => false): Promise<boolean> {\n\twhile (!func()) {\n\t\tif (cancelFunc()) {\n\t\t\treturn false;\n\t\t}\n\t\t// eslint-disable-next-line no-await-in-loop\n\t\tawait sleep(10);\n\t}\n\treturn true;\n}\n\nexport function getPlayer(value: string | number): Character {\n\tif (!value) return;\n\treturn ChatRoomCharacter.find((Character) => {\n\t\treturn (\n\t\t\tCharacter.MemberNumber == value ||\n\t\t\tCharacter.Name.toLowerCase() === value ||\n\t\t\tCharacter.Nickname?.toLowerCase() === value\n\t\t);\n\t});\n}\n\nexport function getNickname(target: Character): string {\n\treturn CharacterNickname(target);\n}\n\nexport function beautifyMessage(message: string): string {\n\tmessage = message\n\t\t.replaceAll(\"<!\", `<span style='color: #48AA6D;'>`)\n\t\t.replaceAll(\"!>\", \"</span>\")\n\treturn message;\n}\n\nexport function consoleLog(text: string): void {\n\tconsole.log(\n\t\t`%cDOGS: ${text}`,\n\t\t`font-weight: bold; color: rgb(72,70,109);`\n\t);\n}\n\nexport function chatSendDOGSMessage(msg: string, _data = undefined, targetNumber = undefined): void {\n\tconst data: ServerChatRoomMessage = {\n\t\tContent: \"dogsMsg\",\n\t\tDictionary: {\n\t\t\t// @ts-ignore\n\t\t\tmsg\n\t\t},\n\t\tType: \"Hidden\",\n\t};\n\t// @ts-ignore\n\tif (_data) data.Dictionary.data = _data;\n\tif (targetNumber) data.Target = targetNumber;\n\tServerSend(\"ChatRoomChat\", data);\n}\n\nexport function chatSendBeep(data: any, targetId: number): void {\n\tconst beep = {\n\t\tIsSecret: true,\n\t\tBeepType: \"Leash\",\n\t\tMemberNumber: targetId,\n\t\tMessage: JSON.stringify({\n\t\t\ttype: \"DOGS\",\n\t\t\t...data\n\t\t})\n\t};\n\n\tServerSend(\"AccountBeep\", beep);\n}\n\nexport function chatSendCustomAction(message: string): void {\n\tif (!ServerPlayerIsInChatRoom()) return;\n\n\tconst isFemale = CharacterPronounDescription(Player) === \"She/Her\";\n\tconst capPossessive = isFemale ? \"Her\" : \"His\";\n\tconst capIntensive = isFemale ? \"Her\" : \"Him\";\n\tconst capSelfIntensive = isFemale ? \"Herself\" : \"Himself\";\n\tconst capPronoun = isFemale ? \"She\" : \"He\";\n\n\tmessage = message\n\t\t.replaceAll(\"<Possessive>\", capPossessive)\n\t\t.replaceAll(\"<possessive>\", capPossessive.toLocaleLowerCase())\n\t\t.replaceAll(\"<Intensive>\", capIntensive)\n\t\t.replaceAll(\"<intensive>\", capIntensive.toLocaleLowerCase())\n\t\t.replaceAll(\"<SelfIntensive>\", capSelfIntensive)\n\t\t.replaceAll(\"<selfIntensive>\", capSelfIntensive.toLocaleLowerCase())\n\t\t.replaceAll(\"<Pronoun>\", capPronoun)\n\t\t.replaceAll(\"<pronoun>\", capPronoun.toLocaleLowerCase());\n\n\t// Taken from LSCG\n\tServerSend(\"ChatRoomChat\", {\n\t\tContent: \"Beep\", \n\t\tType: \"Action\",\n\t\tDictionary: [\n\t\t\t// EN\n\t\t\t{ Tag: \"Beep\", Text: \"msg\" },\n\t\t\t// CN\n\t\t\t{ Tag: \"\u53D1\u9001\u79C1\u804A\", Text: \"msg\" },\n\t\t\t// DE\n\t\t\t{ Tag: \"Biep\", Text: \"msg\" },\n\t\t\t// FR\n\t\t\t{ Tag: \"Sonner\", Text: \"msg\" },\n\t\t\t// Message itself\n\t\t\t{ Tag: \"msg\", Text: message }\n\t\t]\n\t});\n}\n\nexport function notify(\n\tmessage: string, duration: number = 3000, notificationColor: string = \"rgb(72,70,109)\",\n\tsliderColor: string = \"white\"\n): void {\n\tif (document.querySelector(\"#dogsNotificationBlock\")) {\n\t\tdocument.querySelector(\"#dogsNotificationBlock\").remove();\n\t}\n\t\n\tconst targetElement: HTMLDivElement = document.querySelector(\"#dogsFullScreen\") ?\n\t\tdocument.querySelector(\"#dogsFullScreen\")\n\t\t: document.querySelector(\"#MainCanvas\");\n\n\tconst notificationCenterBlock: HTMLDivElement = document.createElement(\"div\");\n\tnotificationCenterBlock.id = \"dogsNotificationBlock\";\n\tnotificationCenterBlock.classList.add(\"adaptive-font-size\");\n\tnotificationCenterBlock.style.cssText = `position: absolute; top: ${(document.body.offsetHeight - targetElement.offsetHeight) / 2 + 2}px; margin-left: 50%; transform: translateX(-50%); z-index: 100; font-family: Comfortaa;`;\n\n\tconst notification = document.createElement(\"div\");\n\tnotification.style.cssText = `position: relative; display: flex; justify-content: center; align-items: center; background: ${notificationColor}; color: white; min-width: 150px; padding: 1.4vw; border-radius: clamp(2px, 0.6vw, 4px);`;\n\n\tconst notificationContent = document.createElement(\"p\");\n\tnotificationContent.style.cssText = \"text-align: center; width: 90%;\";\n\tnotificationContent.innerHTML = beautifyMessage(message);\n\n\tconst notificationSlider = document.createElement(\"div\");\n\tnotificationSlider.style.cssText = `position: absolute; left: 0; bottom: 0; width: 0; height: 0.5vw; max-height: 3px; background: ${sliderColor}; border-radius: clamp(2px, 0.6vw, 4px);`;\n\n\tconst notificationCloseBtn = document.createElement(\"div\");\n\tnotificationCloseBtn.textContent = \"x\";\n\tnotificationCloseBtn.style.cssText = \"cursor: pointer; position: absolute; top: 0.4vw; right: 1vw; color: white; font-size: clamp(12px, 3vw, 26px);\";\n\tnotificationCloseBtn.addEventListener(\"click\", () => {\n\t\tclearInterval(i);\n\t\tnotificationCenterBlock.remove();\n\t});\n\n\tnotification.append(notificationContent, notificationSlider, notificationCloseBtn);\n\tnotificationCenterBlock.append(notification);\n\tdocument.body.append(notificationCenterBlock);\n\n\twindow.onresize = () => {\n\t\tnotificationCenterBlock.style.cssText = `position: absolute; top: ${(document.body.offsetHeight - targetElement.offsetHeight) / 2 + 2}px; margin-left: 50%; transform: translateX(-50%); z-index: 100; font-family: Comfortaa;`;\n\t};\n\n\tconst i = setInterval(() => {\n\t\tnotificationSlider.style.width = `${parseInt(notificationSlider.style.width.replace(\"%\", \"\"))+1}%`;\n\t\tif (parseInt(notificationSlider.style.width.replace(\"%\", \"\")) >= 100) {\n\t\t\tclearInterval(i);\n\t\t\tnotificationCenterBlock.remove();\n\t\t}\n\t}, duration / 100);\n}\n\nexport async function requestButtons(l: string, w: number, maxw: number, btns: {text: string}[]): Promise<string> {\n\tif (document.querySelector(\"#dogsPopupContainer\")) {\n\t\tdocument.querySelector(\"#dogsPopupContainer\").remove();\n\t}\n\n\tconst container = document.createElement(\"div\");\n\tcontainer.id = \"dogsPopupContainer\";\n\n\tconst popup = document.createElement(\"div\");\n\tpopup.id = \"dogsPopup\";\n\tpopup.classList.add(\"adaptive-font-size\");\n\tpopup.style.cssText = `width: ${w}%; min-width: 170px; max-width: ${maxw}px;`;\n\n\tconst label = document.createElement(\"p\");\n\tlabel.style.cssText = `color: white; text-align: center; padding: 0px 8px;`;\n\tlabel.innerHTML = beautifyMessage(l);\n\n\tconst btnsBlock = document.createElement(\"div\");\n\tbtnsBlock.style.cssText = \"display: flex; align-items: center; justify-content: center; flex-wrap: wrap; width: 100%; margin-top: 10px; gap: 10px;\";\n\n\tbtns.forEach((btn) => {\n\t\tconst el = document.createElement(\"button\");\n\t\tel.innerText = btn.text;\n\t\tel.classList.add(\"dogsSquare\");\n\t\tel.classList.add(\"adaptive-font-size\");\n\t\tel.style.cssText = `text-wrap: wrap; text-align: center;`; \n\t\tbtnsBlock.append(el);\n\t});\n\n\tpopup.append(label, btnsBlock);\n\tcontainer.append(popup);\n\tdocument.body.append(container);\n\n\treturn new Promise((resolve, reject) => {\n\t\tbtnsBlock.childNodes.forEach((btn) => {\n\t\t\tbtn.addEventListener(\"click\", (e) => {\n\t\t\t\tresolve((e.target as HTMLButtonElement).innerText);\n\t\t\t\tcontainer.remove();\n\t\t\t});\n\t\t});\n\t});\n}\n\nexport function chatSendLocal(message: string, align: \"center\" | \"left\" = \"center\", bgColor = \"rgb(72,70,109)\"): void {\n\tif (!ServerPlayerIsInChatRoom()) return;\n\tlet style;\n\tif (align === \"center\") {\n\t\tstyle = `border-left: clamp(1px, 1vw, 4px) solid white; position: relative; box-sizing: border-box; font-size: 2vw; font-family: Comfortaa; margin-top: 4px; margin-bottom: 4px; background: ${bgColor}; color: white; padding: 1vw; text-align: center;`;\n\t} else if (align === \"left\") {\n\t\tstyle = `border-left: clamp(1px, 1vw, 4px) solid white; position: relative; box-sizing: border-box; font-size: 2vw; font-family: Comfortaa; margin-top: 4px; margin-bottom: 4px; background: ${bgColor}; color: white;`;\n\t}\n\n\tconst msgElement = document.createElement(\"div\");\n\tmsgElement.innerHTML = beautifyMessage(message);\n\tmsgElement.style.cssText = style;\n\tmsgElement.classList.add(\"dogsMessageBlock\");\n\tconst time = document.createElement(\"div\");\n\ttime.style.cssText = \"position: absolute; font-size: 1.5vw; padding: 1px; text-align: center; background: white; color: rgb(72,70,109); bottom: 0; right: 0;\";\n\ttime.classList.add(\"current-time\");\n\ttime.textContent = ChatRoomCurrentTime();\n\tmsgElement.append(time);\n\tdocument.querySelector(\"#TextAreaChatLog\").appendChild(msgElement);\n\tElementScrollToEnd(\"TextAreaChatLog\");\n\tif (modStorage.misc.deleteLocalMessages) setTimeout(() => msgElement.remove(), 60_000);\n}\n\nexport function chatSendChangelog(): void {\n\tconst text = `<div style='padding: 3px;'><!DOGS!> version ${getModVersion()}<br><br>Changes: <ul><li>\u2022 Added function for <!resetting devious padlocks configurations!>.</li><li>\u2022 <!Redesigned GUI!> of devious padlock menu with the addition of new function.</li><li>\u2022 The ability to allow <!everyone without exception!> put devious padlock was <!returned!>.</li><li>\u2022 Added more options in <!access permissions!> settings of devious padlocks.</li></ul></div>`;\n\tchatSendLocal(text, \"left\");\n}\n\nexport function drawCheckbox(\n\tleft: number, top: number, width: number, height: number, text: string, \n\tisChecked: boolean, isDisabled: boolean = false, textColor = \"Black\", \n\ttextLeft: number = 200, textTop: number = 45\n): void {\n\tDrawText(text, left + textLeft, top + textTop, textColor, \"Gray\");\n\tDrawButton(left, top, width, height, \"\", isDisabled ? \"#ebebe4\" : \"White\", isChecked ? \"Icons/Checked.png\" : \"\", null, isDisabled);\n}\n\nexport function drawWrappedText(text: string, x: number, y: number, color: string, charactersCount: number, gap: number = 50): void {\n\tconst lines = [];\n\tlet line = \"\";\n\tfor (let c of text.split(\" \").filter((d) => d !== \"\")) {\n\t\tline += c + \" \";\n\t\tif (line.length > charactersCount) {\n\t\t\tlines.push(line.slice(0, line.length - 1 - c.length - 1));\n\t\t\tline = c + \" \";\n\t\t}\n\t}\n\tif (line) lines.push(line);\n\t\n\tfor (let l in lines) {\n\t\tDrawText(lines[parseInt(l)], x, y + parseInt(l) * gap, color);\n\t}\n}\n\nexport function isVersionNewer(version1: string, version2: string): boolean {\n\tconst v1Parts = version1.split('.');\n\tconst v2Parts = version2.split('.');\n  \n\tfor (let i = 0; i < Math.max(v1Parts.length, v2Parts.length); i++) {\n\t\tconst v1Part = parseInt(v1Parts[i] || '0', 10);\n\t\tconst v2Part = parseInt(v2Parts[i] || '0', 10);\n\n\t\tif (v1Part > v2Part) {\n\t\t\treturn true;\n\t\t} else if (v1Part < v2Part) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nexport function colorsEqual(c1: string[] | string | null | undefined, c2: string[] | string | null | undefined): boolean {\n\tif (!c1 && !c2) return true;\n\tif (!c1 && c2 === \"Default\" || !c2 && c1 === \"Default\") return true;\n\tif (c1 === \"Default\" && Array.isArray(c2) && c2.filter(d => d === \"Default\").length === c2.length) return true;\n\tif (c2 === \"Default\" && Array.isArray(c1) && c1.filter(d => d === \"Default\").length === c1.length) return true;\n\treturn JSON.stringify(c1) === JSON.stringify(c2);\n}\n\n", "import bcModSdk, { PatchHook, ModSDKModInfo, GetDotedPathType } from \"bondage-club-mod-sdk\";\nimport { getModVersion } from \"@/index\";\n\nconst modSdk = bcModSdk.registerMod({\n    name: \"DOGS\",\n    fullName: \"Devious Obligate Great Stuff\",\n    version: getModVersion(),\n    repository: \"https://github.com/FurryZoi/Devious-Obligate-Great-Stuff.git\"\n});\n\nexport function hookFunction(functionName: string, priority: number, hook: PatchHook): () => void {\n    return modSdk.hookFunction(functionName, priority, hook);\n}\n\nexport function patchFunction(functionName: string, patches: Record<string, string | null>): void {\n    modSdk.patchFunction(functionName, patches);\n}\n\nexport function callOriginal<TFunctionName extends string>(\n\ttarget: TFunctionName,\n\targs: [...Parameters<GetDotedPathType<typeof globalThis, TFunctionName>>],\n\tcontext?: any\n): ReturnType<GetDotedPathType<typeof globalThis, TFunctionName>> {\n\treturn modSdk.callOriginal(target, args);\n}\n\nexport function getActiveMods(): ModSDKModInfo[] {\n    return bcModSdk.getModsInfo();\n}\n\nexport function findModByName(name: string): boolean {\n    return !!bcModSdk.getModsInfo().find((m) => m.name === name);\n}", "import { getModVersion } from \"@/index\";\nimport { chatSendDOGSMessage, getPlayer } from \"./utils\";\nimport { hookFunction } from \"./bcModSdk\";\nimport { RemoteControlPermission } from \"./remoteControl\";\nimport { DeviousPadlockPutPermission, DeviousPadlockAccessPermission } from \"./deviousPadlock\";\n\nexport type TSavedItem = {\n    name: string\n    color: ItemColor\n    craft: CraftingItem\n    property: ItemProperties\n}\n\nexport interface IModStorage {\n    remoteControl: {\n        state?: boolean\n        notifyOthers?: boolean\n        permission?: RemoteControlPermission\n    },\n    deviousPadlock: {\n        state?: boolean\n        permission?: DeviousPadlockPutPermission\n        itemGroups?: Record<AssetGroupItemName, {\n            item: TSavedItem\n            owner: number\n            accessPermission?: DeviousPadlockAccessPermission\n            memberNumbers?: number[]\n            note?: string\n            blockedCommands?: string[]\n            unlockTime?: number\n        }>\n    },\n    misc: {\n        autoShowChangelog?: boolean\n        deleteLocalMessages?: boolean\n    }\n    version: string\n}\n\nexport let modStorage: IModStorage;\nlet modStorageSaveString: string;\n\nexport function initStorage(): void {\n    const data = {\n        remoteControl: {},\n        deviousPadlock: {},\n        misc: {},\n        version: getModVersion(),\n    };\n    \n    if (typeof Player.ExtensionSettings.DOGS === \"string\") {\n        modStorage = JSON.parse(LZString.decompressFromBase64(Player.ExtensionSettings.DOGS)) ?? data;\n    } else modStorage = data\n    \n    Object.keys(data).forEach((key) => {\n        if (modStorage[key] === undefined) {\n            modStorage[key] = data[key];\n        }\n    });\n\n    modStorageSaveString = JSON.stringify(modStorage);\n    migrateModStorage();\n    chatSendDOGSMessage(\"syncStorage\", {\n        storage: modStorage,\n    });\n\n    hookFunction(\"ChatRoomMessage\", 20, (args, next) => {\n        const message = args[0];\n        const sender = getPlayer(message.Sender);\n        if (!sender) return next(args);\n        if (message.Content === \"dogsMsg\" && !sender.IsPlayer()) {\n            const msg = message.Dictionary.msg;\n            const data = message.Dictionary.data;\n            if (msg === \"syncStorage\") {\n                if (!sender.DOGS) {\n                    chatSendDOGSMessage(\"syncStorage\", {\n                        storage: modStorage,\n                    }, sender.MemberNumber);\n                }\n                sender.DOGS = data.storage;\n            }\n        }\n        next(args);\n    });\n    \n    hookFunction(\"ChatRoomSync\", -20, (args, next) => {\n        next(args);\n        chatSendDOGSMessage(\"syncStorage\", {\n            storage: modStorage,\n        });\n    });\n}\n\nfunction migrateModStorage(): void {\n    if (typeof modStorage.deviousPadlock.itemGroups === \"object\") {\n        Object.values(modStorage.deviousPadlock.itemGroups as object).forEach((d) => {\n            if (d.item.Name) {\n                d.item.name = d.item.Name;\n                delete d.item.Name;\n            }\n            if (d.item.Color) {\n                d.item.color = d.item.Color;\n                delete d.item.Color;\n            }\n            if (d.item.Craft) {\n                d.item.craft = d.item.Craft;\n                delete d.item.Craft;\n            }\n            if (d.item.Property) {\n                d.item.property = d.item.Property;\n                delete d.item.Property;\n            }\n            delete d.item.Difficulty;\n            delete d.item.Group;\n        });\n    }\n}\n\nfunction updateModStorage(): void {\n    if (typeof modStorage !== \"object\") return;\n\tif (JSON.stringify(modStorage) === modStorageSaveString) return;\n\tmodStorageSaveString = JSON.stringify(modStorage);\n\tPlayer.ExtensionSettings.DOGS = LZString.compressToBase64(JSON.stringify(modStorage));\n\tServerPlayerExtensionSettingsSync(\"DOGS\");\n    chatSendDOGSMessage(\"syncStorage\", {\n        storage: modStorage,\n    });\n}\n\nsetInterval(updateModStorage, 800);\n", "import { hookFunction } from \"./bcModSdk\";\nimport { modStorage } from \"./storage\";\nimport { chatSendBeep, chatSendCustomAction, chatSendLocal, getNickname } from \"./utils\";\n\nexport let remoteControlIsInteracting: boolean = false;\nexport let remoteControlTarget: number | null = null;\nexport let remoteControlState: null | \"loading\" | \"interacting\" = null;\nexport const remoteControlControllers: number[] = [];\n\nexport enum RemoteControlPermission {\n\tFRIENDS_AND_HIGHER = 0,\n\tWHITELIST_AND_HIGHER = 1,\n\tLOVERS_AND_HIGHER = 2\n}\n\nexport function setRemoteControlTarget(target: number | null): void {\n    remoteControlTarget = target;\n}\n\nexport function setRemoteControlState(state: null | \"loading\" | \"interacting\"): void {\n    remoteControlState = state;\n}\n\nexport function hasPermissionForRemoteControl(targetId: number): boolean {\n\tif (!modStorage.remoteControl.state) return false;\n\tif (modStorage.remoteControl.permission === 2) {\n\t\treturn (\n\t\t\tPlayer.IsLoverOfMemberNumber(targetId) ||\n\t\t\tPlayer.IsOwnedByMemberNumber(targetId)\n\t\t);\n\t}\n\tif (modStorage.remoteControl.permission === 1) {\n\t\treturn (\n\t\t\tPlayer.IsLoverOfMemberNumber(targetId) ||\n\t\t\tPlayer.IsOwnedByMemberNumber(targetId) ||\n\t\t\tPlayer.WhiteList.includes(targetId)\n\t\t);\n\t}\n\treturn Player.FriendList.includes(targetId);\n}\n\n\nexport function loadRemoteControl(): void {\n    hookFunction(\"DialogMenuButtonBuild\", 20, (args, next) => {\n        next(args);\n        if (remoteControlState === \"interacting\") {\n            DialogMenuButton = DialogMenuButton.filter((btn) => btn !== \"Activity\");\n        }\n    });\n\n\thookFunction(\"DialogLeave\", 20, (args, next) => {\n\t\tif (remoteControlState === \"interacting\") {\n\t\t\treturn DialogLeaveFocusItem();\n\t\t}\n\t\treturn next(args);\n\t});\n\n\thookFunction(\"DialogMenuBack\", 20, (args, next) => {\n\t\tif (remoteControlState === \"interacting\") {\n\t\t\tchatSendBeep({\n\t\t\t\taction: \"remoteControlUpdate\",\n\t\t\t\tappearance: ServerAppearanceBundle(CurrentCharacter.Appearance)\n\t\t\t}, remoteControlTarget);\n\t\t\tremoteControlState = null;\n\t\t\tChatRoomStatusUpdate(\"\");\n\t\t\tDialogLeave();\n\t\t\treturn null;\n\t\t}\n\t\treturn next(args);\n\t});\n\n\n    hookFunction(\"ChatRoomRun\", 20, (args, next) => {\n\t\tswitch (remoteControlState) {\n\t\t\tcase \"loading\":\n\t\t\t\tDrawRect(0, 0, 2e3, 1e3, \"#48466D\");\n\t\t\t\tDrawText(\"Loading...\", 1e3, 500, \"white\", \"center\");\n\t\t\t\treturn null;\n\t\t\tcase \"interacting\":\n\t\t\t\treturn null;\n\t\t\tdefault:\n\t\t\t\treturn next(args);\n\t\t}\n\t});\n\n\thookFunction(\"ServerAccountBeep\", 20, (args, next) => {\n\t\tconst beep: ServerAccountBeepResponse = args[0];\n\t\tif (!beep.BeepType) return next(args);\n\t\tif (beep.BeepType !== \"Leash\") {\n\t\t\treturn next(args);\n\t\t}\n\t\tlet data: any;\n\n\t\ttry {\n\t\t\tdata = JSON.parse(beep.Message);\n\t\t} catch {\n\t\t\treturn next(args);\n\t\t}\n\t\tif (data.type !== \"DOGS\") return next(args);\n\n\t\tif (data.action === \"remoteControlResponse\") {\n\t\t\tif (remoteControlTarget !== beep.MemberNumber) return;\n\t\t\tconst C = CharacterLoadOnline(data.bundle, beep.MemberNumber);\n\t\t\tsetRemoteControlState(\"interacting\");\n\t\t\tChatRoomFocusCharacter(C);\n\t\t\tif (!C.AllowItem) C.AllowItem = true;\n\t\t\tDialogChangeMode(\"items\");\n\t\t\tDialogChangeFocusToGroup(C, \"ItemArms\");\n\t\t}\n\t\tif (data.action === \"remoteControlRequest\") {\n\t\t\tif (!hasPermissionForRemoteControl(beep.MemberNumber)) {\n\t\t\t\treturn chatSendBeep({\n\t\t\t\t\taction: \"remoteControlReject\",\n\t\t\t\t\treason: \"noPermissions\"\n\t\t\t\t}, beep.MemberNumber);\n\t\t\t}\n\t\t\tif (!ServerPlayerIsInChatRoom()) {\n\t\t\t\treturn chatSendBeep({\n\t\t\t\t\taction: \"remoteControlReject\",\n\t\t\t\t\treason: \"targetNotInChatRoom\"\n\t\t\t\t}, beep.MemberNumber);\n\t\t\t}\n\t\t\tchatSendBeep({\n\t\t\t\tbundle: {\n\t\t\t\t\tID: Player.OnlineID,\n\t\t\t\t\tName: Player.Name,\n\t\t\t\t\tActivePose: Player.ActivePose,\n\t\t\t\t\tArousalSettings: Player.ArousalSettings,\n\t\t\t\t\tAssetFamily: Player.AssetFamily,\n\t\t\t\t\tBlackList: Player.BlackList,\n\t\t\t\t\tBlockItems: Player.BlockItems,\n\t\t\t\t\tCrafting: null,\n\t\t\t\t\tCreation: Player.Creation,\n\t\t\t\t\tDescription: Player.Description,\n\t\t\t\t\tDifficulty: Player.Difficulty,\n\t\t\t\t\tFavoriteItems: {},\n\t\t\t\t\tGame: {},\n\t\t\t\t\tInventory: {},\n\t\t\t\t\tLimitedItems: {},\n\t\t\t\t\tItemPermission: Player.ItemPermission,\n\t\t\t\t\tLovership: Player.Lovership,\n\t\t\t\t\tLabelColor: Player.LabelColor,\n\t\t\t\t\tMemberNumber: Player.MemberNumber,\n\t\t\t\t\tNickname: Player.Nickname,\n\t\t\t\t\tOnlineSharedSettings: Player.OnlineSharedSettings,\n\t\t\t\t\tOwner: Player.Owner,\n\t\t\t\t\tOwnership: Player.Ownership,\n\t\t\t\t\tReputation: Player.Reputation,\n\t\t\t\t\tTitle: Player.Title,\n\t\t\t\t\tWhiteList: [],\n\t\t\t\t\tAppearance: ServerAppearanceBundle(Player.Appearance)\n\t\t\t\t},\n\t\t\t\taction: \"remoteControlResponse\"\n\t\t\t}, beep.MemberNumber);\n\t\t\tif (!remoteControlControllers.includes(beep.MemberNumber)) {\n\t\t\t\tremoteControlControllers.push(beep.MemberNumber);\n\t\t\t}\n\t\t\tconst name = Player.FriendNames.get(beep.MemberNumber) || beep.MemberNumber;\n\t\t\tchatSendLocal(`<!${name}!> used <!remote control!> on you!`);\n\t\t}\n\t\tif (data.action === \"remoteControlUpdate\") {\n\t\t\tif (\n\t\t\t\t!hasPermissionForRemoteControl(beep.MemberNumber)\n\t\t\t\t|| !remoteControlControllers.includes(beep.MemberNumber)\n\t\t\t) return;\n\t\t\tServerAppearanceLoadFromBundle(\n\t\t\t\tPlayer,\n\t\t\t\tPlayer.AssetFamily,\n\t\t\t\tdata.appearance,\n\t\t\t\tbeep.MemberNumber\n\t\t\t);\n\t\t\tconst name = Player.FriendNames.get(beep.MemberNumber) || beep.MemberNumber;\n\t\t\tchatSendLocal(`<!${name}!> remotely changed your appearance`);\n\t\t\tif (modStorage.remoteControl.notifyOthers ?? true) {\n\t\t\t\tchatSendCustomAction(`${getNickname(Player)}'s appearance was remotely changed`);\n\t\t\t}\n\t\t\tChatRoomCharacterUpdate(Player);\n\t\t\tremoteControlControllers.splice(remoteControlControllers.indexOf(beep.MemberNumber), 1);\n\t\t}\n\t\tif (data.action === \"remoteControlReject\") {\n\t\t\tif (remoteControlTarget !== beep.MemberNumber) return;\n\t\t\tif (data.reason === \"targetNotInChatRoom\") {\n\t\t\t\tchatSendLocal(\"The player is not in the <!chat room!>!\");\n\t\t\t} else if (data.reason === \"noPermissions\") {\n\t\t\t\tchatSendLocal(\"You dont have <!permission!> to use <!remote control!> on this player!\");\n\t\t\t} else {\n\t\t\t\tchatSendLocal(\"For <!unknown reasons!>, you failed to use <!remote control!> on this player!\");\n\t\t\t}\n\t\t\tremoteControlState = null;\n\t\t}\n\t\tnext(args);\n\t});\n\n\n\n}\n\n", "import { guiSubscreensController } from \"@/modules/guiSubscreensController\";\n\nexport abstract class BaseGuiSubscreen {\n    get name(): string {\n        return \"\";\n    }\n\n    run() {}\n    load?() {}\n    click?() {}\n    exit?() {\n        guiSubscreensController.setPreviousSubscreen();\n    }\n}", "import { getModVersion } from \"@/index\";\nimport { BaseGuiSubscreen } from \"./baseGuiSubscreen\";\nimport { guiSubscreensController } from \"@/modules/guiSubscreensController\";\nimport slaveryImage from \"@/images/slavery.png\";\nimport { RemoteControlPermission } from \"@/modules/remoteControl\";\nimport { drawCheckbox, drawWrappedText } from \"@/modules/utils\";\nimport { modStorage } from \"@/modules/storage\";\n\n\nexport class RemoteControl extends BaseGuiSubscreen {\n    get name(): string {\n        return \"Remote Control\";\n    }\n\n    run(): void {\n        const remoteControlPermissionsTexts = {\n            [RemoteControlPermission.FRIENDS_AND_HIGHER]: \"Friends and higher\",\n            [RemoteControlPermission.WHITELIST_AND_HIGHER]: \"Whitelist and higher\",\n            [RemoteControlPermission.LOVERS_AND_HIGHER]: \"Lovers and higher\"\n        };\n\n        drawCheckbox(150, 300, 65, 65, \"Enabled\", modStorage.remoteControl.state, false, \"black\", 150, 35);\n        drawCheckbox(150, 400, 65, 65, \"Notify others\", modStorage.remoteControl.notifyOthers ?? true, false, \"black\", 180, 35);\n        DrawText(\"Who can use remote control on you\", 430, 520, \"black\");\n        DrawBackNextButton(\n            150, 550, 560, 90, remoteControlPermissionsTexts[modStorage.remoteControl.permission ?? RemoteControlPermission.FRIENDS_AND_HIGHER],\n            \"white\", \"\", () => {\n                const p = modStorage.remoteControl.permission ?? RemoteControlPermission.FRIENDS_AND_HIGHER;\n                if (p === RemoteControlPermission.FRIENDS_AND_HIGHER) return remoteControlPermissionsTexts[p];\n                return remoteControlPermissionsTexts[p - 1];\n            }, () => {\n                const p = modStorage.remoteControl.permission ?? RemoteControlPermission.FRIENDS_AND_HIGHER;\n                if (p === RemoteControlPermission.LOVERS_AND_HIGHER) return remoteControlPermissionsTexts[p];\n                return remoteControlPermissionsTexts[p + 1];\n            }\n        );\n\n        drawWrappedText(\n            `Remote control lets allowed users to remotely change your appearance, now you don't need to be in the same room to change items of your friends. If remote control is disabled then no one can use it on you. Type \"/dogs remote <member number>\" to connect remotely.`,\n            1400, 250, \"black\", 50\n        );\n    }\n\n    click(): void {\n        if (MouseIn(150, 300, 65, 65)) modStorage.remoteControl.state = !modStorage.remoteControl.state;\n        if (MouseIn(150, 400, 65, 65)) modStorage.remoteControl.notifyOthers = !(modStorage.remoteControl.notifyOthers ?? true);\n        if (MouseIn(150, 550, 560 / 2, 90)) {\n            const currentPermission = modStorage.remoteControl.permission ?? RemoteControlPermission.FRIENDS_AND_HIGHER; \n            if (currentPermission > RemoteControlPermission.FRIENDS_AND_HIGHER) {\n                modStorage.remoteControl.permission = currentPermission - 1;\n            }\n        }\n        if (MouseIn(150 + 560 / 2, 550, 560 / 2, 90)) {\n            const currentPermission = modStorage.remoteControl.permission ?? RemoteControlPermission.FRIENDS_AND_HIGHER; \n            if (currentPermission < RemoteControlPermission.LOVERS_AND_HIGHER) {\n                modStorage.remoteControl.permission = currentPermission + 1;\n            }\n        }\n    }\n};", "import { getModVersion } from \"@/index\";\nimport { BaseGuiSubscreen } from \"./baseGuiSubscreen\";\nimport { guiSubscreensController } from \"@/modules/guiSubscreensController\";\nimport slaveryImage from \"@/images/slavery.png\";\nimport { RemoteControlPermission } from \"@/modules/remoteControl\";\nimport { drawCheckbox, drawWrappedText } from \"@/modules/utils\";\nimport { modStorage } from \"@/modules/storage\";\nimport { DeviousPadlockPutPermission, getNextDeviousPadlockPutPermission, getPreviousDeviousPadlockPutPermission } from \"@/modules/deviousPadlock\";\nimport { findModByName } from \"@/modules/bcModSdk\";\n\n\nexport class Misc extends BaseGuiSubscreen {\n    get name(): string {\n        return \"Misc\";\n    }\n\n    run(): void {\n        drawCheckbox(150, 300, 65, 65, \"Delete local messages after delay\", modStorage.misc.deleteLocalMessages, false, \"black\", 360, 35);\n\t\tdrawCheckbox(150, 400, 65, 65, \"Automatically show changelog\", modStorage.misc.autoShowChangelog ?? true, false, \"black\", 340, 35);\n    }\n\n    click(): void {\n        if (MouseIn(150, 300, 65, 65)) {\n            modStorage.misc.deleteLocalMessages = !modStorage.misc.deleteLocalMessages;\n        }\n        if (MouseIn(150, 400, 65, 65)) {\n            modStorage.misc.autoShowChangelog = !(modStorage.misc.autoShowChangelog ?? true);\n        }\n    }\n};", "import { callOriginal, hookFunction } from \"./bcModSdk\";\nimport { IModStorage, modStorage, TSavedItem } from \"./storage\";\nimport { \n\tbeautifyMessage, chatSendCustomAction, chatSendDOGSMessage, chatSendLocal,\n\tcolorsEqual, getNickname, getPlayer, notify, requestButtons, waitFor\n} from \"./utils\";\nimport { remoteControlState } from \"./remoteControl\";\nimport deviousPadlockImage from \"@/images/devious-padlock.png\";\nimport backArrowImage from \"@/images/back-arrow.png\";\n\nexport const deviousPadlock = {\n\tAllowType: [],\n\tEffect: [],\n\tExtended: true,\n\tIsLock: true,\n\tName: \"DeviousPadlock\",\n\tTime: 10,\n\tValue: 70,\n\tWear: false,\n\tRemovalTime: 1000\n};\n\nexport enum DeviousPadlockPutPermission {\n\tFRIENDS_AND_HIGHER = 0,\n\tWHITELIST_AND_HIGHER = 1,\n\tLOVERS_AND_HIGHER = 2,\n\tEVERYONE = 3\n};\n\nexport enum DeviousPadlockAccessPermission {\n\tEVERYONE_EXCEPT_WEARER = 0,\n\tFAMILY_AND_HIGHER = 1,\n\tLOVERS_AND_HIGHER = 2,\n\tOWNER = 3,\n\tFRIENDS_AND_HIGHER = 4,\n\tWHITELIST_AND_HIGHER = 5\n};\n\nconst deviousPadlockPutPermissionsHierarchy = [\n\tDeviousPadlockPutPermission.EVERYONE,\n\tDeviousPadlockPutPermission.FRIENDS_AND_HIGHER,\n\tDeviousPadlockPutPermission.WHITELIST_AND_HIGHER,\n\tDeviousPadlockPutPermission.LOVERS_AND_HIGHER\n];\n\nconst deviousPadlockAccessPermissionsHierarchy = [\n\tDeviousPadlockAccessPermission.EVERYONE_EXCEPT_WEARER,\n\tDeviousPadlockAccessPermission.FRIENDS_AND_HIGHER,\n\tDeviousPadlockAccessPermission.WHITELIST_AND_HIGHER,\n\tDeviousPadlockAccessPermission.FAMILY_AND_HIGHER,\n\tDeviousPadlockAccessPermission.LOVERS_AND_HIGHER,\n\tDeviousPadlockAccessPermission.OWNER\n];\n\nlet deviousPadlockMenuData = null;\nlet deviousPadlockMenuLastData = null;\n\nlet deviousPadlockTriggerCooldown: {\n\tcount: number,\n\tfirstTriggerTime: number,\n\tstate: boolean\n} = {\n\tcount: 0,\n\tfirstTriggerTime: Date.now(),\n\tstate: false\n};\n\nconst MAX_TRIGGER_COUNT = 14;\nconst MAX_FIRST_TRIGGER_INTERVAL = 1000 * 14;\nconst COOLDOWN_TIME = 1000 * 60 * 2;\n\n\nfunction createDeviousPadlock(): void {\n\tAssetFemale3DCG.forEach((ele) => {\n\t\tif(ele.Group === \"ItemMisc\") {\n\t\t\tele.Asset.push(deviousPadlock);\n\t\t}\n\t});\n\t\n\tconst assetGroup = AssetGroupGet(\"Female3DCG\", \"ItemMisc\");\n\tAssetAdd(assetGroup, deviousPadlock, AssetFemale3DCGExtended);\n\t// @ts-ignore\n\tAssetGet(\"Female3DCG\", \"ItemMisc\", deviousPadlock.Name).Description = \"Devious Padlock\";\n\tInventoryAdd(Player, deviousPadlock.Name, \"ItemMisc\");\n}\n\nfunction getSavedItemData(item: Item): TSavedItem {\n\treturn {\n\t\tname: item.Asset.Name,\n\t\tcolor: item.Color,\n\t\tcraft: item.Craft,\n\t\tproperty: item.Property\n\t}\n}\n\nexport function getNextDeviousPadlockPutPermission(p: DeviousPadlockPutPermission): DeviousPadlockPutPermission {\n\tif (deviousPadlockPutPermissionsHierarchy.indexOf(p) === deviousPadlockPutPermissionsHierarchy.length - 1) return p;\n\treturn deviousPadlockPutPermissionsHierarchy[deviousPadlockPutPermissionsHierarchy.indexOf(p) + 1];\n}\n\nexport function getPreviousDeviousPadlockPutPermission(p: DeviousPadlockPutPermission): DeviousPadlockPutPermission {\n\tif (deviousPadlockPutPermissionsHierarchy.indexOf(p) === 0) return p;\n\treturn deviousPadlockPutPermissionsHierarchy[deviousPadlockPutPermissionsHierarchy.indexOf(p) - 1];\n}\n\nexport function getNextDeviousPadlockAccessPermission(p: DeviousPadlockAccessPermission): DeviousPadlockAccessPermission {\n\tif (deviousPadlockAccessPermissionsHierarchy.indexOf(p) === deviousPadlockAccessPermissionsHierarchy.length - 1) return p;\n\treturn deviousPadlockAccessPermissionsHierarchy[deviousPadlockAccessPermissionsHierarchy.indexOf(p) + 1];\n}\n\nexport function getPreviousDeviousPadlockAccessPermission(p: DeviousPadlockAccessPermission): DeviousPadlockAccessPermission {\n\tif (deviousPadlockAccessPermissionsHierarchy.indexOf(p) === 0) return p;\n\treturn deviousPadlockAccessPermissionsHierarchy[deviousPadlockAccessPermissionsHierarchy.indexOf(p) - 1];\n}\n\nfunction registerDeviousPadlockInModStorage(group: AssetGroupItemName, ownerId: number): void {\n\tif (!modStorage.deviousPadlock.itemGroups) {\n\t\t// @ts-ignore\n\t\tmodStorage.deviousPadlock.itemGroups = {};\n\t}\n\tconst currentItem = InventoryGet(Player, group);\n\tmodStorage.deviousPadlock.itemGroups[group] = {\n\t\titem: getSavedItemData(currentItem), \n\t\towner: ownerId\n\t};\n}\n\nfunction inspectDeviousPadlock(target: Character, item: Item, itemGroup: AssetItemGroup): void {\n\tlet deviousPadlock;\n\tif (target.IsPlayer()) {\n\t\tdeviousPadlock = modStorage.deviousPadlock;\n\t} else {\n\t\tdeviousPadlock = target.DOGS.deviousPadlock;\n\t}\n\tdeviousPadlockMenuData = {\n\t\towner: deviousPadlock.itemGroups[itemGroup.Name].owner,\n\t\taccessPermission: deviousPadlock.itemGroups[itemGroup.Name].accessPermission ?? 0,\n\t\tmemberNumbers: deviousPadlock.itemGroups[itemGroup.Name].memberNumbers ?? [],\n\t\tunlockTime: deviousPadlock.itemGroups[itemGroup.Name].unlockTime,\n\t\tnote: deviousPadlock.itemGroups[itemGroup.Name].note,\t\n\t\tblockedCommands: deviousPadlock.itemGroups[itemGroup.Name].blockedCommands ?? []\n\t};\n\tdeviousPadlockMenuLastData = JSON.parse(JSON.stringify(deviousPadlockMenuData));\n\n\tconst menu = document.createElement(\"div\");\n\tmenu.id = \"dogsFullScreen\";\n\tmenu.style.cssText = \"height: 70vw;\";\n\tmenu.append(getDeviousPadlockMenu(target, itemGroup, menu, \"General\"));\n\tdocument.body.append(menu);\n}\n\nfunction canPutDeviousPadlock(groupName: AssetGroupItemName, target1: Character, target2: Character): boolean {\n\tlet storage: IModStorage;\n\tif (target2.IsPlayer()) storage = modStorage;\n\telse storage = target2.DOGS;\n\tif (!storage?.deviousPadlock?.state) return;\n\tconst permission = storage?.deviousPadlock?.permission ?? DeviousPadlockPutPermission.EVERYONE;\n\tif (target1.MemberNumber === target2.MemberNumber) return true;\n\tif (permission === DeviousPadlockPutPermission.FRIENDS_AND_HIGHER) return (\n\t\t// @ts-ignore\n\t\ttarget1.FriendList?.includes(target2.MemberNumber) || target2.FriendList?.includes(target1.MemberNumber) ||\n\t\ttarget1.WhiteList?.includes(target2.MemberNumber) || target2.WhiteList?.includes(target1.MemberNumber) ||\n\t\ttarget1.IsInFamilyOfMemberNumber(target2.MemberNumber) || target1.IsLoverOfCharacter(target2) || \n\t\ttarget2.IsOwnedByCharacter(target1)\n\t);\n\tif (permission === DeviousPadlockPutPermission.WHITELIST_AND_HIGHER) return (\n\t\ttarget1.WhiteList?.includes(target2.MemberNumber) || target2.WhiteList?.includes(target1.MemberNumber) ||\n\t\ttarget1.IsInFamilyOfMemberNumber(target2.MemberNumber) || target1.IsLoverOfCharacter(target2) || \n\t\ttarget2.IsOwnedByCharacter(target1)\n\t);\n\tif (permission === DeviousPadlockPutPermission.LOVERS_AND_HIGHER) return (\n\t\ttarget1.IsLoverOfCharacter(target2) || target2.IsOwnedByCharacter(target1)\n\t);\n\treturn true;\n}\n\nfunction canAccessDeviousPadlock(groupName: AssetGroupItemName, target1: Character, target2: Character): boolean {\n\tif (!target1.CanInteract()) return false;\n\tif (!target2.IsPlayer() && !target2.DOGS) return false;\n\tif (target1.MemberNumber === target2.MemberNumber) return false;\n\tconst owner = target2.IsPlayer() ? \n\t\tmodStorage.deviousPadlock.itemGroups?.[groupName]?.owner\n\t\t: target2.DOGS?.deviousPadlock?.itemGroups?.[groupName]?.owner;\n\tconst permissionKey = target2.IsPlayer() ? \n\t\t(modStorage.deviousPadlock.itemGroups?.[groupName]?.accessPermission ?? DeviousPadlockAccessPermission.EVERYONE_EXCEPT_WEARER)\n\t\t: (target2.DOGS?.deviousPadlock?.itemGroups?.[groupName]?.accessPermission ?? DeviousPadlockAccessPermission.EVERYONE_EXCEPT_WEARER);\n\tconst memberNumbers = target2.IsPlayer() ? (modStorage.deviousPadlock.itemGroups?.[groupName]?.memberNumbers ?? []) : (target2.DOGS?.deviousPadlock?.itemGroups?.[groupName]?.memberNumbers ?? []);\n\tif (target1.MemberNumber === owner || memberNumbers.includes(target1.MemberNumber)) return true;\n\tif (permissionKey === DeviousPadlockAccessPermission.EVERYONE_EXCEPT_WEARER) return true;\n\tif (permissionKey === DeviousPadlockAccessPermission.FRIENDS_AND_HIGHER) return (\n\t\t// @ts-ignore\n\t\ttarget1.FriendList?.includes(target2.MemberNumber) || target2.FriendList?.includes(target1.MemberNumber) ||\n\t\ttarget1.WhiteList?.includes(target2.MemberNumber) || target2.WhiteList?.includes(target1.MemberNumber) ||\n\t\ttarget1.IsInFamilyOfMemberNumber(target2.MemberNumber) || target1.IsLoverOfCharacter(target2) || \n\t\ttarget2.IsOwnedByCharacter(target1)\n\t);\n\tif (permissionKey === DeviousPadlockAccessPermission.WHITELIST_AND_HIGHER) return (\n\t\t// @ts-ignore\n\t\ttarget1.WhiteList?.includes(target2.MemberNumber) || target2.WhiteList?.includes(target1.MemberNumber) ||\n\t\ttarget1.IsInFamilyOfMemberNumber(target2.MemberNumber) || target1.IsLoverOfCharacter(target2) || \n\t\ttarget2.IsOwnedByCharacter(target1)\n\t);\n\tif (permissionKey === DeviousPadlockAccessPermission.FAMILY_AND_HIGHER) return (\n\t\ttarget1.IsInFamilyOfMemberNumber(target2.MemberNumber) || target1.IsLoverOfCharacter(target2) ||\n\t\ttarget2.IsOwnedByCharacter(target1)\n\t);\n\tif (permissionKey === DeviousPadlockAccessPermission.LOVERS_AND_HIGHER) return target1.IsLoverOfCharacter(target2) || target2.IsOwnedByCharacter(target1);\n\tif (permissionKey === DeviousPadlockAccessPermission.OWNER) return target2.IsOwnedByCharacter(target1);\n\treturn true;\n}\n\nfunction canSetAccessPermission(target1: Character, target2: Character, accessPermission: DeviousPadlockAccessPermission): boolean {\n\tif (accessPermission === DeviousPadlockAccessPermission.EVERYONE_EXCEPT_WEARER) return target1.MemberNumber !== target2.MemberNumber;\n\tif (accessPermission === DeviousPadlockAccessPermission.FRIENDS_AND_HIGHER) return (\n\t\t// @ts-ignore\n\t\ttarget1.FriendList?.includes(target2.MemberNumber) || target2.FriendList?.includes(target1.MemberNumber) ||\n\t\ttarget1.WhiteList?.includes(target2.MemberNumber) || target2.WhiteList?.includes(target1.MemberNumber) ||\n\t\ttarget1.IsInFamilyOfMemberNumber(target2.MemberNumber) || target1.IsLoverOfCharacter(target2) || \n\t\ttarget2.IsOwnedByCharacter(target1)\n\t);\n\tif (accessPermission === DeviousPadlockAccessPermission.WHITELIST_AND_HIGHER) return (\n\t\t// @ts-ignore\n\t\ttarget1.WhiteList?.includes(target2.MemberNumber) || target2.WhiteList?.includes(target1.MemberNumber) ||\n\t\ttarget1.IsInFamilyOfMemberNumber(target2.MemberNumber) || target1.IsLoverOfCharacter(target2) || \n\t\ttarget2.IsOwnedByCharacter(target1)\n\t);\n\tif (accessPermission === DeviousPadlockAccessPermission.FAMILY_AND_HIGHER) return (\n\t\ttarget1.IsInFamilyOfMemberNumber(target2.MemberNumber) || target1.IsLoverOfCharacter(target2) ||\n\t\ttarget2.IsOwnedByCharacter(target1)\n\t);\n\tif (accessPermission === DeviousPadlockAccessPermission.LOVERS_AND_HIGHER) return target1.IsLoverOfCharacter(target2) || target2.IsOwnedByCharacter(target1);\n\tif (accessPermission === DeviousPadlockAccessPermission.OWNER) return target2.IsOwnedByCharacter(target1);\n\treturn false;\n}\n\nfunction onAppearanceChange(target1: Character, target2: Character): void {\n\tif (target2.IsPlayer()) checkDeviousPadlocks(target1);\n}\n\nfunction checkDeviousPadlocks(target: Character): void {\n\tif (modStorage.deviousPadlock.itemGroups) {\n\t\tlet padlocksChangedItemNames: string[] = [];\n\t\tlet pushChatRoom: boolean = false;\n\t\tObject.keys(modStorage.deviousPadlock.itemGroups).forEach((groupName) => {\n\t\t\tconst currentItem = InventoryGet(Player, groupName as AssetGroupName);\n\t\t\tconst savedItem: TSavedItem = modStorage.deviousPadlock.itemGroups[groupName].item;\n\n\t\t\tconst property = currentItem?.Property;\n\t\t\tconst padlockChanged = !(\n\t\t\t\tproperty?.Name === deviousPadlock.Name\n\t\t\t\t&& property?.LockedBy === \"ExclusivePadlock\"\n\t\t\t);\n\n\t\t\tconst ignoredProperties = [\n\t\t\t\t\"OrgasmCount\", \"RuinedOrgasmCount\", \"TimeSinceLastOrgasm\",\n\t\t\t\t\"TimeWorn\", \"TriggerCount\"\n\t\t\t];\n\n\t\t\tconst getValidProperties = (properties) => {\n\t\t\t\tif (typeof properties === \"object\") {\n\t\t\t\t\tconst propertiesCopy = {...properties};\n\t\t\t\t\tignoredProperties.forEach((p) => {\n\t\t\t\t\t\tdelete propertiesCopy[p];\n\t\t\t\t\t});\n\t\t\t\t\treturn propertiesCopy;\n\t\t\t\t}\n\t\t\t\treturn properties; \n\t\t\t}\n\n\t\t\tconst getIgnoredProperties = (properties) => {\n\t\t\t\tif (typeof properties === \"object\") {\n\t\t\t\t\tconst propertiesCopy = {...properties};\n\t\t\t\t\tObject.keys(propertiesCopy).forEach((p) => {\n\t\t\t\t\t\tif (!ignoredProperties.includes(p)) delete propertiesCopy[p];\n\t\t\t\t\t});\n\t\t\t\t\treturn propertiesCopy;\n\t\t\t\t}\n\t\t\t\treturn properties;\n\t\t\t}\n\t\t\t\n\t\t\tif (\n\t\t\t\t!deviousPadlockTriggerCooldown.state &&\n\t\t\t\t(\n\t\t\t\t\tcurrentItem?.Asset?.Name !== savedItem.name ||\n\t\t\t\t\t!colorsEqual(currentItem.Color, savedItem.color) ||\n\t\t\t\t\tJSON.stringify(currentItem?.Craft) !== JSON.stringify(savedItem.craft) ||\n\t\t\t\t\tJSON.stringify(getValidProperties(currentItem?.Property)) !== JSON.stringify(getValidProperties(savedItem.property))\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tif (canAccessDeviousPadlock(groupName as AssetGroupItemName, target, Player)) {\n\t\t\t\t\tif (padlockChanged) {\n\t\t\t\t\t\tdelete modStorage.deviousPadlock.itemGroups[groupName];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmodStorage.deviousPadlock.itemGroups[groupName].item = getSavedItemData(currentItem);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst difficulty = AssetGet(Player.AssetFamily, groupName as AssetGroupName, savedItem.name).Difficulty;\n\t\t\t\t\tlet newItem: Item = callOriginal(\"InventoryWear\", [Player, savedItem.name, groupName as AssetGroupItemName, savedItem.color, difficulty, Player.MemberNumber, savedItem.craft]);\n\t\t\t\t\tnewItem.Property = {\n\t\t\t\t\t\t...getValidProperties(savedItem.property),\n\t\t\t\t\t\t...getIgnoredProperties(currentItem?.Asset?.Name === savedItem.name ? currentItem.Property : newItem.Property)\n\t\t\t\t\t};\n\t\t\t\t\tif (newItem.Property.Name !== deviousPadlock.Name) newItem.Property.Name = deviousPadlock.Name;\n\t\t\t\t\tif (newItem.Property.LockedBy !== \"ExclusivePadlock\") newItem.Property.LockedBy = \"ExclusivePadlock\";\n\t\t\t\t\tif (padlockChanged) padlocksChangedItemNames.push(newItem.Craft?.Name ? newItem.Craft.Name : newItem.Asset.Description);\n\t\t\t\t\tpushChatRoom = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (ServerPlayerIsInChatRoom() && pushChatRoom) {\n\t\t\tChatRoomCharacterUpdate(Player);\n\t\t\tif (padlocksChangedItemNames.length === 1) {\n\t\t\t\tchatSendCustomAction(`Devious padlock appears again on ${getNickname(Player)}'s ${padlocksChangedItemNames[0]}`);\n\t\t\t}\n\t\t\tif (padlocksChangedItemNames.length > 1) {\n\t\t\t\tchatSendCustomAction(`Devious padlock appears again on ${getNickname(Player)}'s: ${padlocksChangedItemNames.join(\", \")}`);\n\t\t\t}\n\t\t\tif (deviousPadlockTriggerCooldown.count === 0) deviousPadlockTriggerCooldown.firstTriggerTime = Date.now();\n\t\t\tdeviousPadlockTriggerCooldown.count++;\n\t\t\tif (deviousPadlockTriggerCooldown.count > MAX_TRIGGER_COUNT) {\n\t\t\t\tif ((Date.now() - deviousPadlockTriggerCooldown.firstTriggerTime) < MAX_FIRST_TRIGGER_INTERVAL) {\n\t\t\t\t\tdeviousPadlockTriggerCooldown.state = true;\n\t\t\t\t\tdeviousPadlockTriggerCooldown.count = 0;\n\t\t\t\t\tchatSendCustomAction(`[COOLDOWN] Devious padlocks were disabled for ${COOLDOWN_TIME / (1000 * 60)} minutes, please disable DOGS mod if this message repeats`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tdeviousPadlockTriggerCooldown.state = false;\n\t\t\t\t\t\tcheckDeviousPadlocks(Player);\n\t\t\t\t\t}, COOLDOWN_TIME);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tPlayer.Appearance.forEach((item) => {\n\t\tif (\n\t\t\titem.Property?.Name === deviousPadlock.Name &&\n\t\t\titem.Property?.LockedBy === \"ExclusivePadlock\"\n\t\t) {\n\t\t\tif (\n\t\t\t\t!modStorage.deviousPadlock.itemGroups ||\n\t\t\t\t!modStorage.deviousPadlock.itemGroups[item.Asset.Group.Name as AssetGroupItemName]\n\t\t\t) {\n\t\t\t\tif (!canPutDeviousPadlock(item.Asset.Group.Name as AssetGroupItemName, target, Player) || deviousPadlockTriggerCooldown.state) {\n\t\t\t\t\tInventoryUnlock(Player, item.Asset.Group.Name as AssetGroupItemName);\n\t\t\t\t\tChatRoomCharacterUpdate(Player);\t\t\t\t\t\n\t\t\t\t} else registerDeviousPadlockInModStorage(item.Asset.Group.Name as AssetGroupItemName, target.MemberNumber);\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction checkDeviousPadlocksTimers(): void {\n\tif (!modStorage.deviousPadlock.itemGroups || deviousPadlockTriggerCooldown.state) return;\n\tObject.keys(modStorage.deviousPadlock.itemGroups).forEach((group: AssetGroupItemName) => {\n\t\tconst unlockTime = modStorage.deviousPadlock.itemGroups[group].unlockTime;\n\t\tif (unlockTime && new Date(unlockTime) < new Date()) {\n\t\t\tconst itemName = InventoryGet(Player, group).Craft?.Name \n\t\t\t\t? InventoryGet(Player, group).Craft.Name \n\t\t\t\t: InventoryGet(Player, group).Asset.Name;\t\n\t\t\tchatSendCustomAction(`The devious padlock opens on ${getNickname(Player)}'s ${itemName} with loud click`);\n\t\t\tdelete modStorage.deviousPadlock.itemGroups[group];\n\t\t\tInventoryUnlock(Player, group);\n\t\t\tChatRoomCharacterUpdate(Player);\n\t\t}\n\t});\n}\n\n\nfunction getDeviousPadlockMenu(\n\ttarget: Character, group: AssetGroup, \n\tmenuElement: HTMLDivElement, page: string\n): HTMLDivElement {\n\tconst item = InventoryGet(target, group.Name);\n\tconst itemName = item.Craft?.Name ? item.Craft.Name : item.Asset.Description;\n\n\tconst container = document.createElement(\"div\");\n\tcontainer.style.cssText = \"display: flex; height: 100%;\";\n\n\tconst navContainer = document.createElement(\"div\");\n\tnavContainer.style.cssText = `display: flex; flex-direction: column; align-items: center; justify-content: center;\n\trow-gap: 6px; center; width: 30%; min-width: 80px; max-width: 300px; background: black; background: #12121217;`;\n\n\tconst contentContainer = document.createElement(\"div\");\n\tcontentContainer.style.cssText = `display: flex; flex-direction: column; align-items: center; justify-content: center;\n\twidth: 100%; height: 100%; overflow: auto;`;\n\n\tconst closeBtn = document.createElement(\"button\");\n\tcloseBtn.textContent = \"x\";\n\tcloseBtn.style.cssText = \"display: flex; align-items: center; justify-content: center; position: absolute; top: 5px; right: 5px; min-width: 17px; min-height: 17px; width: 6vw; height: 6vw; font-size: 4.5vw;\";\n\tcloseBtn.classList.add(\"dogsBtn\");\n\tcloseBtn.addEventListener(\"click\", function () {\n\t\tmenuElement.remove();\n\t\tif (\n\t\t\t!target.IsPlayer() && \n\t\t\tJSON.stringify(deviousPadlockMenuLastData) !==\n\t\t\tJSON.stringify(deviousPadlockMenuData)\n\t\t) {\n\t\t\tchatSendDOGSMessage(\"changeDeviousPadlockConfigurations\", {\n\t\t\t\t...deviousPadlockMenuData,\n\t\t\t\tgroup: group.Name\n\t\t\t}, target.MemberNumber);\n\t\t\tchatSendCustomAction(\n\t\t\t\t`${getNickname(Player)} changes the devious padlock configurations on ${getNickname(target)}'s ${itemName}`\n\t\t\t);\n\t\t}\n\t});\n\n\tfor (let _page of [\"General\", \"Note\", \"Blocked Commands\", \"Access\"]) {\n\t\tconst btn = document.createElement(\"button\");\n\t\tbtn.textContent = _page;\n\t\tbtn.classList.add(\"dogsNavBtn\");\n\t\tif (page === _page) btn.setAttribute(\"data-active\", \"true\");\n\t\tbtn.addEventListener(\"click\", () => {\t\t\t\n\t\t\tcontainer.remove();\n\t\t\tmenuElement.append(getDeviousPadlockMenu(target, group, menuElement, _page));\t\n\t\t});\n\t\tnavContainer.append(btn);\n\t}\n\n\tcontainer.append(navContainer, contentContainer, closeBtn);\n\n\tif (page === \"General\") {\n\t\tconst itemPreviewLink = GameVersion.length === 4 ?\n\t\t\t`https://www.bondage-europe.com/${GameVersion}/BondageClub/Assets/Female3DCG/${group.Name}/Preview/${item.Asset.Name}.png`\n\t\t\t: `${window.location.href}Assets/Female3DCG/${group.Name}/Preview/${item.Asset.Name}.png`;\n\n\t\tconst preview = document.createElement(\"div\");\n\t\tpreview.style.cssText = \"position: relative; width: 20%; aspect-ratio: 1 / 1; max-width: 150px; max-height: 150px;\";\n\n\t\tconst previewItem = document.createElement(\"img\");\n\t\tpreviewItem.src = itemPreviewLink;\n\t\tpreviewItem.style.cssText = \"background: white; width: 100%; height: 100%;\";\n\n\t\tconst previewPadlock = document.createElement(\"img\");\n\t\tpreviewPadlock.src = deviousPadlockImage;\n\t\tpreviewPadlock.style.cssText = \"z-index: 10; width: 20%; height: 20%; position: absolute; left: 2px; top: 2px;\";\n\n\t\tconst description = document.createElement(\"p\");\n\t\tdescription.innerHTML = beautifyMessage(\n\t\t\t`Padlock can be managed only by users who <!correspond!> to the <!access permissions!><br><span style=\"color: #ff0000;\">Protected from cheats</span>`\n\t\t);\n\t\tdescription.style.cssText = `width: 95%; background: rgb(80 78 116); border-radius: 4px; text-align: center;\n\t\tpadding: 1vw; color: white; text-align: center; font-size: clamp(12px, 3vw, 24px); margin-top: 1.5vw; box-sizing: border-box;`;\n\t\t\n\t\tconst owner = document.createElement(\"p\");\n\t\towner.innerHTML = beautifyMessage(\n\t\t\t`Owner of the padlock: <!${\n\t\t\t\tgetPlayer(deviousPadlockMenuData.owner) ? `${getNickname(getPlayer(deviousPadlockMenuData.owner))} (${deviousPadlockMenuData.owner})` : `${deviousPadlockMenuData.owner}`\n\t\t\t}!>`\n\t\t);\n\t\towner.style.cssText = \"width: 95%; color: white; font-size: clamp(12px, 3vw, 24px); margin-top: 1.5vw; box-sizing: border-box;\";\n\n\t\tconst time = document.createElement(\"div\");\n\t\ttime.style.cssText = \"width: 100%; margin-top: 1.5vw; width: 95%; background: rgb(80 78 116); border-radius: 4px; padding: 1vw; display: flex; flex-direction: column; align-items: center; box-sizing: border-box;\";\n\n\t\tconst timeText = document.createElement(\"p\");\n\t\ttimeText.textContent = \"When should the lock be removed? (Leave this field empty for permanent \uD83D\uDE09)\";\n\t\ttimeText.style.cssText = \"font-size: clamp(12px, 3vw, 24px); width: 95%; color: white; text-align: center;\";\n\n\t\tconst timeField = document.createElement(\"input\");\n\t\ttimeField.type = \"datetime-local\";\n\t\ttimeField.classList.add(\"dogsTextEdit\");\n\t\tif (!canAccessDeviousPadlock(group.Name as AssetGroupItemName, Player, target)) {\n\t\t\ttimeField.classList.add(\"disabled\");\n\t\t}\n\t\ttimeField.style.cssText = \"background: rgb(99 96 147); margin-top: 1vw; width: 95%; height: 4vw; min-height: 15px; font-size: clamp(12px, 3vw, 24px);\";\n\t\ttimeField.value = deviousPadlockMenuData.unlockTime\n\t\t\t? deviousPadlockMenuData.unlockTime\n\t\t\t: \"\";\n\t\ttimeField.addEventListener(\"change\", function () {\n\t\t\tdeviousPadlockMenuData.unlockTime = timeField.value;\n\t\t});\n\n\t\tpreview.append(previewItem, previewPadlock);\n\t\ttime.append(timeText, timeField);\n\t\tcontentContainer.append(\n\t\t\tpreview, description, owner, time\n\t\t);\n\t}\n\n\tif (page === \"Note\") {\n\t\tconst note = document.createElement(\"textarea\");\n\t\tnote.classList.add(\"dogsTextEdit\");\n\t\tif (!canAccessDeviousPadlock(group.Name as AssetGroupItemName, Player, target)) {\n\t\t\tnote.classList.add(\"disabled\");\n\t\t}\n\t\tnote.style.cssText = \"width: 85%; height: 30%; min-height: 100px; font-size: clamp(12px, 4vw, 24px);\";\n\t\tnote.placeholder = \"You can leave a note that other DOGS users can see\";\n\t\tnote.value = deviousPadlockMenuData.note\n\t\t\t? deviousPadlockMenuData.note\n\t\t\t: \"\";\n\t\tnote.addEventListener(\"change\", function () {\n\t\t\tdeviousPadlockMenuData.note = note.value;\n\t\t});\n\t\tcontentContainer.append(note);\n\t}\n\n\tif (page === \"Blocked Commands\") {\n\t\tconst commands = document.createElement(\"textarea\");\n\t\tcommands.classList.add(\"dogsTextEdit\");\n\t\tif (!canAccessDeviousPadlock(group.Name as AssetGroupItemName, Player, target)) {\n\t\t\tcommands.classList.add(\"disabled\");\n\t\t}\n\t\tcommands.style.cssText = \"width: 85%; height: 30%; min-height: 100px; font-size: clamp(12px, 4vw, 24px);\";\n\t\tcommands.placeholder = `You can paste commands which will be blocked for the padlock wearer. Example: \"/command1, /command2\"`;\n\t\tcommands.value = deviousPadlockMenuData.blockedCommands\n\t\t\t? deviousPadlockMenuData.blockedCommands.join(\", \")\n\t\t\t: \"\";\n\t\tcommands.addEventListener(\"change\", function () {\n\t\t\tdeviousPadlockMenuData.blockedCommands = commands.value.split(\",\")\n\t\t\t\t.map((c) => c.trim())\n\t\t\t\t.filter((c) => c.startsWith(\"/\") && c.length > 1);\n\t\t});\n\t\tcontentContainer.append(commands);\n\t}\n\n\tif (page === \"Access\") {\n\t\tconst chaosPadlockAccessPermissionsTexts = {\n\t\t\t[DeviousPadlockAccessPermission.EVERYONE_EXCEPT_WEARER]: \"Everyone except wearer\", \n\t\t\t[DeviousPadlockAccessPermission.FRIENDS_AND_HIGHER]: \"Wearer's friends and higher\",\n\t\t\t[DeviousPadlockAccessPermission.WHITELIST_AND_HIGHER]: \"Wearer's whitelist and higher\",\n\t\t\t[DeviousPadlockAccessPermission.FAMILY_AND_HIGHER]: \"Wearer's family and higher\",\n\t\t\t[DeviousPadlockAccessPermission.LOVERS_AND_HIGHER]: \"Wearer's lovers and higher\",\n\t\t\t[DeviousPadlockAccessPermission.OWNER]: \"Wearer's owner\"\n\t\t};\n\n\t\tconst memberNumbers = document.createElement(\"div\");\n\t\tmemberNumbers.style.cssText = `display: flex; flex-direction: column; align-items: center; box-sizing: border-box;\n\t\twidth: 95%; background: rgb(80 78 116); border-radius: 4px; padding: 1vw;`;\n\n\t\tconst memberNumbersText = document.createElement(\"p\");\n\t\tmemberNumbersText.style.cssText = \"color: white; width: 95%; font-size: clamp(12px, 4vw, 24px); text-align: center;\";\n\t\tmemberNumbersText.textContent = \"Member numbers which will always have access to the padlock\";\n\n\t\tconst memberNumbersField = document.createElement(\"textarea\");\n\t\tmemberNumbersField.classList.add(\"dogsTextEdit\");\n\t\tif (!canAccessDeviousPadlock(group.Name as AssetGroupItemName, Player, target)) {\n\t\t\tmemberNumbersField.classList.add(\"disabled\");\n\t\t}\n\t\tmemberNumbersField.placeholder = \"Member numbers\";\n\t\tmemberNumbersField.style.cssText = \"width: 95%; height: 6.5vw; margin-top: 1vw; font-size: clamp(12px, 4vw, 24px);\";\n\t\tmemberNumbersField.value = deviousPadlockMenuData.memberNumbers\n\t\t\t? deviousPadlockMenuData.memberNumbers.join(\", \")\n\t\t\t: \"\";\n\t\tmemberNumbersField.addEventListener(\"change\", function () {\n\t\t\tdeviousPadlockMenuData.memberNumbers = memberNumbersField.value.split(\",\").map((n) => parseInt(n));\n\t\t});\n\n\t\tlet accessPermissionToSubmit = deviousPadlockMenuData.accessPermission;\n\n\t\tconst accessBlock = document.createElement(\"div\");\n\t\taccessBlock.style.cssText = `display: flex; flex-direction: column; align-items: center; box-sizing: border-box;\n\t\twidth: 95%; background: rgb(80 78 116); border-radius: 4px; padding: 1vw; margin-top: 2vw;`;\n\n\t\tconst currentAccessSetting = document.createElement(\"p\");\n\t\tcurrentAccessSetting.innerHTML = beautifyMessage(`Current access permission: <!${chaosPadlockAccessPermissionsTexts[deviousPadlockMenuData.accessPermission]}!>`);\n\t\tcurrentAccessSetting.style.cssText = \"width: 95%; color: white; text-align: center; font-size: clamp(12px, 4vw, 24px);\";\n\n\t\tconst accessSettings = document.createElement(\"div\");\n\t\taccessSettings.style.cssText = `display: flex; align-items: center; justify-content: center; column-gap: 2vw;\n\t\tmargin-top: 2vw; width: 95%;`;\n\n\t\tconst leftBtn = document.createElement(\"button\");\n\t\tleftBtn.classList.add(\"dogsBtn\");\n\t\tleftBtn.textContent = \"<<\";\n\t\tleftBtn.style.cssText = \"display: flex; align-items: center; justify-content: center; width: 4vw; height: 4vw; border-radius: 50%;\";\n\t\tleftBtn.addEventListener(\"click\", function () {\n\t\t\taccessPermissionToSubmit = getPreviousDeviousPadlockAccessPermission(accessPermissionToSubmit);\n\t\t\taccessText.textContent = chaosPadlockAccessPermissionsTexts[accessPermissionToSubmit];\n\t\t});\n\n\t\tconst accessText = document.createElement(\"p\");\n\t\taccessText.textContent = chaosPadlockAccessPermissionsTexts[accessPermissionToSubmit];\n\t\taccessText.style.cssText = \"text-align: center; color: white; font-size: clamp(12px, 4vw, 24px);\";\n\n\t\tconst rightBtn = document.createElement(\"button\");\n\t\trightBtn.classList.add(\"dogsBtn\");\n\t\trightBtn.textContent = \">>\";\n\t\trightBtn.style.cssText = \"display: flex; align-items: center; justify-content: center; width: 4vw; height: 4vw; border-radius: 50%;\";\n\t\trightBtn.addEventListener(\"click\", function () {\n\t\t\taccessPermissionToSubmit = getNextDeviousPadlockAccessPermission(accessPermissionToSubmit);\n\t\t\taccessText.textContent = chaosPadlockAccessPermissionsTexts[accessPermissionToSubmit];\n\t\t});\n\n\t\tconst submitBtn = document.createElement(\"button\");\n\t\tsubmitBtn.classList.add(\"dogsBtn\");\n\t\tif (!canAccessDeviousPadlock(group.Name as AssetGroupItemName, Player, target)) {\n\t\t\tsubmitBtn.classList.add(\"disabled\");\n\t\t}\n\t\tsubmitBtn.textContent = \"Submit\";\n\t\tsubmitBtn.addEventListener(\"click\", function () {\n\t\t\tif (!canSetAccessPermission(Player, target, accessPermissionToSubmit)) {\n\t\t\t\treturn notify(\"Not enough rights to set this access permission\", 5000, \"rgb(137 133 205)\", \"white\");\n\t\t\t}\n\t\t\tdeviousPadlockMenuData.accessPermission = accessPermissionToSubmit;\n\t\t\tcurrentAccessSetting.innerHTML = beautifyMessage(`Current access permission: <!${accessText.textContent}!>`);\n\t\t});\n\n\t\tmemberNumbers.append(memberNumbersText, memberNumbersField);\n\t\taccessSettings.append(leftBtn, accessText, rightBtn, submitBtn);\n\t\taccessBlock.append(currentAccessSetting, accessSettings)\n\t\tcontentContainer.append(memberNumbers, accessBlock);\n\t}\n\n\treturn container;\n}\n\nexport function loadDeviousPadlock(): void {\n\tcreateDeviousPadlock();\n\tObject.keys(modStorage.deviousPadlock.itemGroups ?? {}).forEach((g) => {\n\t\tconst itemGroup = modStorage.deviousPadlock.itemGroups[g];\n\t\tconst appearanceItem = ServerBundledItemToAppearanceItem(Player.AssetFamily, {\n\t\t\tName: itemGroup.item.name,\n\t\t\tColor: itemGroup.item.color,\n\t\t\tCraft: itemGroup.item.craft,\n\t\t\tProperty: itemGroup.item.property,\n\t\t\tGroup: g as AssetGroupName\n\t\t});\n\t\tconst changed = ValidationSanitizeProperties(Player, appearanceItem);\n\t\tif (changed) modStorage.deviousPadlock.itemGroups[g].item = getSavedItemData(appearanceItem);\n\t});\n\tcheckDeviousPadlocks(Player);\n\tsetInterval(checkDeviousPadlocksTimers, 1000);\n\n\thookFunction(\"DialogLockingClick\", 20, async (args, next) => {\n\t\tconst C = CharacterGetCurrent();\n\t\tconst clickedLock: Item = args[0];\n\t\t\n\t\tif (\n\t\t\tclickedLock?.Asset?.Name === deviousPadlock.Name && \n\t\t\t!InventoryIsPermissionBlocked(C, deviousPadlock.Name, \"ItemMisc\")\n\t\t) {\n\t\t\tif (C.IsPlayer()) {\n\t\t\t\tconst answer = await requestButtons(\n\t\t\t\t\t\"This padlock is recommended for those who want to feel really helpless, you will not be able to remove this padlock yourself. Continue? \uD83D\uDE0F\", 80, 600, [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext: \"Yes, i want to lock myself\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext: \"No, i clicked wrong button\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t);\n\t\t\t\tif (answer === \"No, i clicked wrong button\") return;\n\t\t\t}\n\t\t}\n\n\t\tnext(args);\n\t});\n\n\thookFunction(\"InventoryItemMiscExclusivePadlockDraw\", 20, (args, next) => {\n\t\tconst item = InventoryGet(CurrentCharacter, CurrentCharacter.FocusGroup.Name);\n\t\tif (\n\t\t\titem.Property?.Name === deviousPadlock.Name &&\n\t\t\t(\n\t\t\t\tCurrentCharacter.IsPlayer() || CurrentCharacter.DOGS\n\t\t\t)\n\t\t) {\n\t\t\tinspectDeviousPadlock(CurrentCharacter, item, CurrentCharacter.FocusGroup);\n\t\t\tDialogChangeMode(\"items\");\n\t\t\treturn;\n\t\t}\n\t\tnext(args);\n\t});\n\n\thookFunction(\"DialogCanUnlock\", 20, (args, next) => {\n\t\tconst [ target, item ] = args as [Character, Item];\n\n\t\tif (\n\t\t\titem?.Property?.Name === deviousPadlock.Name && \n\t\t\t(\n\t\t\t\ttarget.IsPlayer() || target.DOGS\n\t\t\t)\n\t\t) {\n\t\t\tif (\n\t\t\t\ttarget.IsPlayer() &&\n\t\t\t\ttypeof modStorage.deviousPadlock.itemGroups?.[item.Asset?.Group?.Name] !== \"object\"\n\t\t\t) {\n\t\t\t\tregisterDeviousPadlockInModStorage(item.Asset.Group.Name as AssetGroupItemName, parseInt(item.Property.LockMemberNumber ?? Player.MemberNumber));\n\t\t\t}\n\t\t\treturn canAccessDeviousPadlock(target.FocusGroup?.Name, Player, target);\n\t\t}\n\t\treturn next(args);\n\t});\n\n\thookFunction(\"InventoryUnlock\", 20, (args, next) => {\n\t\tconst [ target, group ] = args as [Character, AssetGroupItemName];\n\t\tconst item = InventoryGet(target, group);\n\t\tif (item?.Property?.Name === deviousPadlock.Name) {\n\t\t\tdelete item.Property.Name;\n\t\t}\n\t\treturn next(args);\n\t});\n\n\thookFunction(\"InventoryLock\", 20, (args, next) => {\n\t\tconst [ C, Item, Lock, MemberNumber ] = args as [Character, Item | AssetGroupName, Item | AssetLockType, null | number | string];\n\t\t// @ts-ignore\n\t\tif ([Lock.Name, Lock].includes(deviousPadlock.Name)) {\n\t\t\targs[2] = \"ExclusivePadlock\";\n\t\t\tif (args[1].Property) {\n\t\t\t\targs[1].Property.Name = deviousPadlock.Name;\n\t\t\t} else {\n\t\t\t\targs[1].Property = {\n\t\t\t\t\tName: deviousPadlock.Name\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn next(args);\n\t});\n\n\thookFunction(\"DialogSetStatus\", 20, (args, next) => {\n\t\tconst [ status ] = args as [string];\n\t\tif (\n\t\t\ttypeof status === \"string\" &&\n\t\t\tstatus.startsWith(\"This looks like its locked by a\") &&\n\t\t\tInventoryGet(CurrentCharacter, CurrentCharacter?.FocusGroup?.Name)\n\t\t\t\t?.Property?.Name === deviousPadlock.Name &&\n\t\t\t(\n\t\t\t\tCurrentCharacter.IsPlayer() || CurrentCharacter.DOGS\n\t\t\t)\n\t\t) {\n\t\t\tif (CurrentCharacter.IsPlayer()) {\n\t\t\t\targs[0] = \"This looks like its locked by a devious padlock, you are totally helpless :3\";\n\t\t\t} else {\n\t\t\t\targs[0] = `This looks like its locked by a devious padlock, ${getNickname(CurrentCharacter)} is totally helpless :3`;\n\t\t\t}\n\t\t}\n\t\tnext(args);\n\t});\n\n\thookFunction(\"ChatRoomCharacterItemUpdate\", -20, (args, next) => {\n\t\tif (remoteControlState === \"interacting\") return;\n\t\tnext(args);\n\t\tconst [ target, group ] = args;\n\t\tonAppearanceChange(Player, target);\n\t});\n\n\thookFunction(\"ChatRoomSyncItem\", -20, (args, next) => {\n\t\tnext(args);\n\t\tconst [ data ] = args;\n\t\tconst item = data?.Item;\n\t\tconst target1 = getPlayer(data?.Source);\n\t\tconst target2 = getPlayer(item?.Target);\n\t\tif (!target1 || !target2) return;\n\t\tonAppearanceChange(target1, target2);\t\n\t});\n\n\thookFunction(\"ChatRoomSyncSingle\", -20, (args, next) => {\n\t\tnext(args);\n\t\tconst [ data ] = args;\n\t\tconst target1 = getPlayer(data?.SourceMemberNumber);\n\t\tconst target2 = getPlayer(data?.Character?.MemberNumber);\n\t\tif (!target1 || !target2) return;\n\t\tonAppearanceChange(target1, target2);\n\t});\n\n\tif (GameVersion === \"R110\") {\n\t\thookFunction(\"DrawImageResize\", 20, (args, next) => {\n\t\t\tvar path = args[0];\n\t\t\tif (typeof path === \"object\") return next(args);\n\t\t\tif (!!path && path === `Assets/Female3DCG/ItemMisc/Preview/${deviousPadlock.Name}.png`) {\n\t\t\t\targs[0] = deviousPadlockImage;\n\t\t\t}\n\t\t\treturn next(args);\n\t\t});\n\t} else { // R111\n\t\thookFunction(\"ElementButton.CreateForAsset\", 0, (args, next) => {\n\t\t\targs[4] ??= {};\n\t\t\tconst asset: Asset = \"Asset\" in args[1] ? args[1].Asset : args[1];\n\t\t\tswitch (asset.Name) {\n\t\t\t\tcase deviousPadlock.Name:\n\t\t\t\t\targs[4].image = deviousPadlockImage;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn next(args);\n\t\t});\n\t}\n\n\thookFunction(\"DialogInventoryAdd\", 20, (args, next) => {\n\t\tconst [C, item, isWorn, sortOrder] = args;\n\t\tconst asset = item.Asset;\n\t\t\n\t\tif (\n\t\t\tasset.Name === deviousPadlock.Name &&\n\t\t\t!C.IsPlayer() &&\n\t\t\t!C.DOGS\n\t\t) return;\n\t\treturn next(args);\n\t});\n\n\n\thookFunction(\"ChatRoomMessage\", 20, (args, next) => {\n\t\tconst message = args[0];\n\t\tconst sender = getPlayer(message.Sender);\n\t\tif (!sender) return next(args);\n\t\tif (message.Content === \"dogsMsg\" && !sender.IsPlayer()) {\n\t\t\tconst msg = message.Dictionary.msg;\n\t\t\tconst data = message.Dictionary.data;\n\t\t\tif (msg === \"changeDeviousPadlockConfigurations\") {\n\t\t\t\t// console.log(data);\n\t\t\t\tif (!modStorage.deviousPadlock.itemGroups[data.group]) return;\n\t\t\t\tif (!canAccessDeviousPadlock(data.group, sender, Player)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (data.accessPermission && canSetAccessPermission(sender, Player, data.accessPermission)) {\n\t\t\t\t\tmodStorage.deviousPadlock.itemGroups[data.group as AssetGroupItemName].accessPermission = data.accessPermission;\n\t\t\t\t}\n\t\t\t\tif (Array.isArray(data.memberNumbers)) {\n\t\t\t\t\tmodStorage.deviousPadlock.itemGroups[data.group as AssetGroupItemName].memberNumbers = data.memberNumbers.filter((n) => typeof n === \"number\");\n\t\t\t\t}\n\t\t\t\tif (typeof data.unlockTime === \"string\") {\n\t\t\t\t\tmodStorage.deviousPadlock.itemGroups[data.group as AssetGroupItemName].unlockTime = data.unlockTime;\n\t\t\t\t}\n\t\t\t\tif (typeof data.note === \"string\") {\n\t\t\t\t\tmodStorage.deviousPadlock.itemGroups[data.group as AssetGroupItemName].note = data.note;\n\t\t\t\t}\n\t\t\t\tif (Array.isArray(data.blockedCommands)) {\n\t\t\t\t\tmodStorage.deviousPadlock.itemGroups[data.group as AssetGroupItemName].blockedCommands = data.blockedCommands\n\t\t\t\t\t\t.map((c) => c.trim())\n\t\t\t\t\t\t.filter((c) => c.startsWith(\"/\") && c.length > 1);;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tnext(args);\n\t});\n\n\thookFunction(\"DialogGetLockIcon\", 20, (args, next) => {\n\t\tconst item: Item = args[0];\n\t\tif (InventoryItemHasEffect(item, \"Lock\")) {\n\t\t\tif (\n\t\t\t\titem.Property && item.Property.Name === deviousPadlock.Name\n\t\t\t) {\n\t\t\t\tif (CurrentCharacter !== null && !CurrentCharacter.IsPlayer() && !CurrentCharacter.DOGS) {\n\t\t\t\t\treturn next(args);\n\t\t\t\t}\n\t\t\t\tif (GameVersion === \"R110\") return [deviousPadlock.Name];\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: deviousPadlock.Name,\n\t\t\t\t\t\ticonSrc: deviousPadlockImage,\n\t\t\t\t\t\ttooltipText: `Locked with Devious Padlock from DOGS mod`\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\t\treturn next(args);\n\t});\n\n\thookFunction(\"InventoryIsPermissionBlocked\", 20, (args, next) => {\n\t\tconst [ C, AssetName, AssetGroup, AssetType ] = args;\n\t\tif (AssetName === deviousPadlock.Name) return !canPutDeviousPadlock(AssetGroup, Player, C);\n\t\treturn next(args);\n\t});\n\n\thookFunction(\"InventoryTogglePermission\", 20, (args, next) => {\n\t\tconst item: Item = args[0];\n\t\tif (item.Asset.Name === deviousPadlock.Name) return;\n\t\treturn next(args);\n\t});\n\n\t// Fixing Preview Screen\n\thookFunction(\"DrawPreviewIcons\", 20, (args, next) => {\n\t\tconst icons = args[0];\n\t\tif (typeof icons === \"object\") args[0] = args[0].map((i) => i.name ?? i);\n\t\treturn next(args);\n\t});\n\n\thookFunction(\"DrawImageResize\", 20, (args, next) => {\n\t\tif (args[0] === `Assets/Female3DCG/ItemMisc/Preview/${deviousPadlock.Name}.png`) {\n\t\t\targs[0] = deviousPadlockImage;\n\t\t}\n\t\treturn next(args);\n\t});\n\n\thookFunction(\"CommandExecute\", 20, (args, next) => {\n\t\tconst command = args[0].toLowerCase().trim();\n\t\tlet prevent = false;\n\t\tconst blockedCommands = Object.values(modStorage.deviousPadlock.itemGroups)\n\t\t\t.map((v) => v.blockedCommands ?? [])\n\t\t\t.reduce((accumulator, currentValue) => accumulator.concat(currentValue), []);\n\t\tblockedCommands.forEach((c) => {\n\t\t\tif (command?.startsWith(c)) {\n\t\t\t\tchatSendCustomAction(\n\t\t\t\t\t`${getNickname(\n\t\t\t\t\t\tPlayer\n\t\t\t\t\t)} tried to use blocked command ${c}`\n\t\t\t\t);\n\t\t\t\treturn prevent = true;\n\t\t\t}\n\t\t});\n\t\tif (prevent) return false;\n\t\treturn next(args);\n\n\t});\n}\n\n", "import { drawWrappedText, notify } from \"@/modules/utils\";\nimport { BaseGuiSubscreen } from \"./baseGuiSubscreen\";\nimport { modStorage, TSavedItem } from \"@/modules/storage\";\n\n\nexport class EmergencyResetDeviousPadlocks extends BaseGuiSubscreen {\n    private enableButtonTime: number;\n\n    get name(): string {\n        return \"Emergency Reset Devious Padlocks\";\n    }\n\n    run(): void {\n        const text = ((this.enableButtonTime - Date.now()) / 1000) > 0 ? `(${Math.round((this.enableButtonTime - Date.now()) / 1000)}) Confirm` : \"Confirm\";\n        drawWrappedText(\n            \"This operation will reset all the configuration settings of the devious padlocks so that anyone except you will be able to change configurations or remove padlock.\",\n            1000, 400, \"black\", 100 \n        );\n        DrawButton(750, 800, 450, 80, text, \"white\", null, \"Emergency Reset Devious Padlocks\", this.enableButtonTime > Date.now());\n    }\n\n    load(): void {\n        this.enableButtonTime = Date.now() + 10_000;\n    }\n\n    click(): void {\n        if (MouseIn(750, 800, 450, 80) && Date.now() > this.enableButtonTime) {\n            Object.keys(modStorage.deviousPadlock.itemGroups).forEach((k) => {\n                modStorage.deviousPadlock.itemGroups[k as AssetGroupItemName] = Object.fromEntries(\n                    [\"owner\", \"item\"].map((n) => [ n, modStorage.deviousPadlock.itemGroups[k as AssetGroupItemName][n] ])\n                ) as {\n                    item: TSavedItem\n                    owner: number\n                };\n            });\n            this.exit();\n            notify(\"Devious padlocks configurations have been successfully reset\", 4500);\n        }\n    }\n};", "import { getModVersion } from \"@/index\";\nimport { BaseGuiSubscreen } from \"./baseGuiSubscreen\";\nimport { guiSubscreensController } from \"@/modules/guiSubscreensController\";\nimport slaveryImage from \"@/images/slavery.png\";\nimport { RemoteControlPermission } from \"@/modules/remoteControl\";\nimport { drawCheckbox, drawWrappedText } from \"@/modules/utils\";\nimport { modStorage } from \"@/modules/storage\";\nimport { DeviousPadlockPutPermission, getNextDeviousPadlockPutPermission, getPreviousDeviousPadlockPutPermission } from \"@/modules/deviousPadlock\";\nimport { findModByName } from \"@/modules/bcModSdk\";\nimport { EmergencyResetDeviousPadlocks } from \"./emergencyResetDeviousPadlocks\";\nimport { MainMenu } from \"./mainMenu\";\n\n\nexport class DeviousPadlock extends BaseGuiSubscreen {\n    get name(): string {\n        return \"Devious Padlock\";\n    }\n\n    run(): void {\n        const deviousPadlocklPermissionsTexts = {\n            [DeviousPadlockPutPermission.FRIENDS_AND_HIGHER]: \"Friends and higher\",\n            [DeviousPadlockPutPermission.WHITELIST_AND_HIGHER]: \"Whitelist and higher\",\n            [DeviousPadlockPutPermission.LOVERS_AND_HIGHER]: \"Lovers and higher\",\n            [DeviousPadlockPutPermission.EVERYONE]: \"Everyone\"\n        };\n\n        drawCheckbox(150, 300, 65, 65, \"Enabled\", modStorage.deviousPadlock.state, false, \"black\", 150, 35);\n        DrawText(\"Who can put devious padlock on you\", 440, 420, \"black\");\n        DrawBackNextButton(\n            150, 450, 580, 90, deviousPadlocklPermissionsTexts[modStorage.deviousPadlock.permission ?? DeviousPadlockPutPermission.FRIENDS_AND_HIGHER],\n            \"white\", \"\", () => {\n                const p = modStorage.deviousPadlock.permission ?? DeviousPadlockPutPermission.EVERYONE;\n                return deviousPadlocklPermissionsTexts[getPreviousDeviousPadlockPutPermission(p)]\n            }, () => {\n                const p = modStorage.deviousPadlock.permission ?? DeviousPadlockPutPermission.EVERYONE;\n                return deviousPadlocklPermissionsTexts[getNextDeviousPadlockPutPermission(p)]\n            }\n        );\n\n        drawWrappedText(\n            `The padlock is made in such a way that the wearer cannot remove it on their own. In the padlock settings you can add notes and configure access rights. By default these padlocks are disabled and cannot be used on you, but you can always change it :3`,\n            1400, 250, \"black\", 50\n        );\n        let color = \"#CFCFCF\";\n        if (findModByName(\"Themed\")) {\n            const themedData = JSON.parse(LZString.decompressFromBase64(Player.ExtensionSettings.Themed ?? \"\"));\n            if (\n                themedData?.GlobalModule?.themedEnabled && \n                themedData?.GlobalModule?.doVanillaGuiOverhaul && \n                typeof themedData?.ColorsModule?.base?.element === \"string\"\n            ) color = themedData.ColorsModule.base.element;\n        }\n        DrawRect(1400, 575, 500, 350, color);\n        const isResetBtnEnabled = Player.GetDifficulty() === 0;\n        DrawButton(\n            1425, 625, 450, 100, `Emergency Reset`, \n            isResetBtnEnabled ? \"#EE204D\" : \"Grey\", \"Icons/ServiceBell.png\", \n            isResetBtnEnabled ? \"Reset configurations of worn devious padlocks\" : 'Unavailable (Requires \"Roleplay\" difficulty)',\n            !isResetBtnEnabled\n        );\n        drawWrappedText(\n            \"Reset all configurations of worn devious padlocks including access permission\",\n            1650, 775, \"Red\", 30\n        );\n    }\n\n    click(): void {\n        if (MouseIn(150, 300, 65, 65)) modStorage.deviousPadlock.state = !modStorage.deviousPadlock.state;\n        const currentPermission = modStorage.deviousPadlock.permission ?? DeviousPadlockPutPermission.EVERYONE; \n        if (MouseIn(150, 450, 580 / 2, 90)) {\n            modStorage.deviousPadlock.permission = getPreviousDeviousPadlockPutPermission(currentPermission);\n        }\n        if (MouseIn(150 + 580 / 2, 450, 580 / 2, 90)) {\n            modStorage.deviousPadlock.permission = getNextDeviousPadlockPutPermission(currentPermission);\n        }\n        if (MouseIn(1425, 625, 450, 100) && Player.GetDifficulty() === 0) {\n            guiSubscreensController.setSubscreen(new EmergencyResetDeviousPadlocks());\n        }\n    }\n\n    exit(): void {\n        guiSubscreensController.setSubscreen(new MainMenu());\n    }\n};", "import { getModVersion } from \"@/index\";\nimport { BaseGuiSubscreen } from \"./baseGuiSubscreen\";\nimport { guiSubscreensController } from \"@/modules/guiSubscreensController\";\nimport remoteControlImage from \"@/images/settings-remote-control.png\";\nimport deviousPadlockImage from \"@/images/settings-devious-padlock.png\";\nimport miscImage from \"@/images/settings-misc.png\";\nimport slaveryImage from \"@/images/slavery.png\";\nimport { RemoteControl } from \"./remoteControl\";\nimport { Misc } from \"./misc\";\nimport { DeviousPadlock } from \"./deviousPadlock\";\nimport { modStorage } from \"@/modules/storage\";\nimport { drawWrappedText } from \"@/modules/utils\";\nimport { findModByName } from \"@/modules/bcModSdk\";\n\n\ninterface ISettingButton {\n    text: string\n    icon: () => string\n    subscreen: BaseGuiSubscreen\n}\n\nconst settingButtons: ISettingButton[] = [\n    {\n        text: \"Remote Control\",\n        icon: () => remoteControlImage,\n        subscreen: new RemoteControl()\n    },\n    {\n        text: \"Devious Padlock\",\n        icon: () => deviousPadlockImage,\n        subscreen: new DeviousPadlock()\n    },\n    {\n        text: \"Misc\",\n        icon: () => miscImage,\n        subscreen: new Misc()\n    }\n];\n\nexport class MainMenu extends BaseGuiSubscreen {\n    readonly settingButtonLeft = 200;\n    readonly settingButtonTop = 260;\n    readonly settingButtonWidth = 600;\n    readonly settingButtonHeight = 85;\n    readonly settingButtonsGap = 20;\n\n    readonly releaseBtnDefaultLeft = 1225;\n    readonly releaseBtnDefaultTop = 375;\n    readonly releaseBtnDefaultWidth = 450;\n    readonly releaseBtnDefaultHeight = 100;\n\n    private releaseBtnLeft = this.releaseBtnDefaultLeft;\n    private releaseBtnTop = this.releaseBtnDefaultTop;\n    private releaseBtnWidth = this.releaseBtnDefaultWidth;\n    private releaseBtnHeight = this.releaseBtnDefaultHeight;\n\n    private rectColor = \"#CFCFCF\";\n    private isTouchDevice: boolean;\n    private isReleaseButtonClicked = false;\n\n    get name(): string {\n        return \"Main Menu\";\n    }\n\n    load(): void {\n        this.releaseBtnLeft = this.releaseBtnDefaultLeft;\n        this.releaseBtnTop = this.releaseBtnDefaultTop;\n        this.isReleaseButtonClicked = false;\n\n        if (findModByName(\"Themed\")) {\n            const themedData = JSON.parse(LZString.decompressFromBase64(Player.ExtensionSettings.Themed ?? \"\"));\n            if (\n                themedData?.GlobalModule?.themedEnabled && \n                themedData?.GlobalModule?.doVanillaGuiOverhaul && \n                typeof themedData?.ColorsModule?.base?.element === \"string\"\n            ) this.rectColor = themedData.ColorsModule.base.element;\n        }\n\n        try {\n            document.createEvent(\"TouchEvent\");\n            this.isTouchDevice = true;\n        } catch (e) {\n            this.isTouchDevice = false;\n        }\n    }\n\n    run(): void {\n        DrawButton(1600, 850, 320, 90, `v${getModVersion()}`, \"White\", slaveryImage, \"DOGS Current Version\");\n        settingButtons.forEach((button, i) => {\n            DrawButton(\n                this.settingButtonLeft, this.settingButtonTop + i * (this.settingButtonHeight + this.settingButtonsGap), this.settingButtonWidth,\n                this.settingButtonHeight, button.text, \"White\", button.icon()\n            );\n        }); \n\n        if (Object.keys(modStorage.deviousPadlock.itemGroups ?? {}).length > 0 && !this.isTouchDevice) {\n            DrawRect(1200, 325, 500, 325, this.rectColor);\n            DrawButton(\n                this.releaseBtnLeft, this.releaseBtnTop, this.releaseBtnWidth, this.releaseBtnHeight,\n                this.isReleaseButtonClicked ? \"Nice try :3\" : \"Instant Release\", \n                \"#EE204D\", \"Icons/ServiceBell.png\",\n            );\n            drawWrappedText(\n                \"Instantly remove all devious padlocks from yourself\",\n                1450, 525, \"Red\", 30\n            );\n\n            if (\n                MouseIn(\n                    this.releaseBtnLeft - 100, this.releaseBtnTop - 100,\n                    this.releaseBtnWidth + 200, this.releaseBtnHeight + 200\n                )\n            ) {\n                let x = 0;\n                let y = 0;\n                if (MouseX < this.releaseBtnLeft) x = 100 - (this.releaseBtnLeft - MouseX);\n                if (MouseX > (this.releaseBtnLeft + this.releaseBtnWidth)) x = (100 - (MouseX - (this.releaseBtnLeft + this.releaseBtnWidth))) * -1;\n                if (MouseY < this.releaseBtnTop) y = 100 - (this.releaseBtnTop - MouseY);\n                if (MouseY > (this.releaseBtnTop + this.releaseBtnHeight)) y = (100 - (MouseY - (this.releaseBtnTop + this.releaseBtnHeight))) * -1;\n                this.releaseBtnLeft += x; \n                this.releaseBtnTop += y;\n                if (this.releaseBtnLeft <= 0) this.releaseBtnLeft += (this.releaseBtnWidth + (MouseX - (this.releaseBtnLeft + this.releaseBtnWidth)));\n                if ((this.releaseBtnLeft + this.releaseBtnWidth) >= 2000) this.releaseBtnLeft -= ((this.releaseBtnLeft + this.releaseBtnWidth) - MouseX);\n                if (this.releaseBtnTop <= 0) this.releaseBtnTop += (this.releaseBtnHeight + (MouseY - (this.releaseBtnTop + this.releaseBtnHeight)));\n                if ((this.releaseBtnTop + this.releaseBtnHeight) >= 1000) this.releaseBtnTop -= ((this.releaseBtnTop + this.releaseBtnHeight) - MouseY); \n            }\n        }\n    }\n\n    click(): void {\n        settingButtons.forEach((button, i) => {\n            if (\n                MouseIn(\n                    this.settingButtonLeft, this.settingButtonTop + i * (this.settingButtonHeight + this.settingButtonsGap), \n                    this.settingButtonWidth, this.settingButtonHeight\n                )\n            ) guiSubscreensController.setSubscreen(button.subscreen);\n        });\n        if (MouseIn(this.releaseBtnLeft, this.releaseBtnTop, this.releaseBtnWidth, this.releaseBtnHeight)) {\n            this.isReleaseButtonClicked = true;\n        }\n    }\n};", "import { BaseGuiSubscreen } from \"@/guiSubscreens/baseGuiSubscreen\";\nimport { MainMenu } from \"@/guiSubscreens/mainMenu\";\n\nclass GuiSubscreensController {\n    private currentSubscreen: BaseGuiSubscreen = new MainMenu();\n    private previousSubscreen: BaseGuiSubscreen | null = null;\n    \n    getCurrentSubscreen() {\n        return this.currentSubscreen;\n    }\n\n    setSubscreen(subscreen: BaseGuiSubscreen): void {\n        if (this.currentSubscreen.name === subscreen.name) return;\n        this.previousSubscreen = this.currentSubscreen;\n        this.currentSubscreen = subscreen;\n        subscreen.load();\n    }\n\n    setPreviousSubscreen(): void {\n        if (!this.previousSubscreen) return;\n        this.setSubscreen(this.previousSubscreen);\n    }\n};\n\nexport const guiSubscreensController = new GuiSubscreensController();", "import slaveryImage from \"@/images/slavery.png\";\nimport { guiSubscreensController } from \"./guiSubscreensController\";\n\nexport function loadSettingsMenu(): void {\t \n\tPreferenceRegisterExtensionSetting({\n\t\tIdentifier: \"DOGS\",\n\t\tButtonText: \"DOGS Settings\",\n\t\tImage: slaveryImage,\n\t\tclick: () => {\n\t\t\tif (MouseIn(1815, 75, 90, 90)) guiSubscreensController.getCurrentSubscreen().name === \"Main Menu\" ? PreferenceSubscreenExtensionsClear() : guiSubscreensController.getCurrentSubscreen().exit();\n\t\t\tguiSubscreensController.getCurrentSubscreen().click();\n\t\t},\n\t\trun: () => {\n\t\t\tDrawText(\n\t\t\t\t`Devious Obligate Great Stuff (DOGS) - ${guiSubscreensController.getCurrentSubscreen().name}`,\n\t\t\t\t1000,\n\t\t\t\t125,\n\t\t\t\t\"Black\",\n\t\t\t\t\"Gray\"\n\t\t\t);\n\t\t\tDrawButton(1815, 75, 90, 90, \"\", \"White\", \"Icons/Exit.png\");\n\t\t\tguiSubscreensController.getCurrentSubscreen().run();\n\t\t},\n\t\texit: () => {\n\t\t\tguiSubscreensController.getCurrentSubscreen().exit();\n\t\t},\n\t\tload: () => { \n\t\t\tguiSubscreensController.getCurrentSubscreen().load();\n\t\t},\n\t});\n}", "import { remoteControlState, remoteControlTarget, setRemoteControlState, setRemoteControlTarget } from \"./remoteControl\";\nimport { beautifyMessage, chatSendBeep, chatSendLocal, chatSendChangelog } from \"./utils\";\n\n\ninterface ICommand {\n    name: string\n    description: string\n    args?: string\n    action: (text: string) => void\n}\n\nconst commands: ICommand[] = [\n    {\n        name: \"help\",\n        description: \"Open DOGS help menu\",\n        action: () => {\n            let msg = \"<div style='padding: 0.4vw;'><!DOGS!> commands:</div>\";\n            for (const c of commands) {\n                msg += `<div style='padding: 0.4vw;'><!/dogs ${c.name}!> ${c.args ? `${c.args}` : \"\"} - ${c.description}</div>`;\n            }\n            chatSendLocal(beautifyMessage(msg), \"left\");\n        }\n    },\n    {\n        name: \"changelog\",\n        description: \"Show latest DOGS changelog\",\n        action: chatSendChangelog\n    },\n    {\n        name: \"remote\",\n        description: \"Use remote control\",\n        args: \"[member number]\",\n        action: (text) => {\n            const args = getArgs(text);\n            const targetId = parseInt(args[0]);\n            if (!targetId) {\n                return chatSendLocal(\n                    `Example: /dogs remote <character id>`\n                );\n            }\t\n\n            chatSendBeep({\n                action: \"remoteControlRequest\"\n            }, targetId);\n            setRemoteControlState(\"loading\");\n            setRemoteControlTarget(targetId);\n            ChatRoomHideElements();\n            ChatRoomStatusUpdate(\"Preference\");\n            \n            setTimeout(function () {\n                if (remoteControlState === \"loading\") {\n                    setRemoteControlState(null);\n                    setRemoteControlTarget(null);\n                    chatSendLocal(\"The remote request <!timed out!>! Target player may be <!offline!> or not using <!DOGS!>!\");\n                }\n            }, 5000);\n        }\n    }\n];\n\nfunction getArgs(text: string): string[] {\n\treturn text.split(\",\").map((arg) => {\n\t\treturn arg.trim();\n\t});\n}\n\n\nexport function loadCommands(): void {\n    CommandCombine([\n        {\n            Tag: \"dogs\",\n            Description: \"Execute DOGS command\",\n            Action: function (text) {\n                const commandName = text.split(\" \")[0];\n                const commandText = text.split(\" \").slice(1).join(\" \");\n                const command = commands.find((c) => c.name === commandName);\n    \n                if (command) {\n                    command.action(commandText);\n                } else {\n                    chatSendLocal(\n                        \"Unknown command, use <!/dogs help!> to view a list of all available commands!\"\n                    );\n                }\n            }\n        }\n    ]);\n\n}\n\n\n", "* {\n    margin: 0; \n    padding: 0;\n}\n\n:root {\n    --blue-color: rgb(72,70,109);\n}\n\n.dogsMessageBlock .current-time {\n    display: none;\n}\n\n.dogsMessageBlock:hover .current-time {\n    display: inline;\n}\n\n#dogsPopupContainer {\n    display: flex; \n    align-items: center; \n    justify-content: center;\n    height: 100%; \n    font-family: Comfortaa;\n    z-index: 100;\n}\n\n#dogsPopup {\n    display: flex; \n    flex-direction: column; \n    align-items: center; \n    background: var(--blue-color); \n    z-index: 200; \n    padding: 10px 0px;\n    border: 2px solid rgb(72,70,109);\n    border-radius: 5px;\n}\n\n#dogsPopup input:focus {\n    border: 2px solid white !important;\n}\n\n.dogsSquare {\n    cursor: pointer;\n    position: relative;\n    font-family: Comfortaa;\n    padding: 6px;\n    color: white; \n    border: none; \n    background: rgb(107, 105, 158);\n    transition-duration: 0.4s;\n}\n\n.dogsSquare::before {\n    content: '';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 0;\n\theight: 100%;\n\tbackground: rgba(255, 255, 255, 0.4);\n\ttransition-duration: 0.4s;\n}\n\n.dogsSquare:hover::before {\n    width: 100%;\n}\n\n.dogsBtn {\n    cursor: pointer; \n    font-size: 2vw; \n    font-family: Comfortaa;\n    padding: 3px 8px; \n    color: white;\n    border: none;\n    border-radius: 4px;\n    word-wrap: break-word;\n    background: rgb(107, 105, 158); \n    transition-duration: 0.4s;\n}\n\n.dogsBtn:hover {\n    background: rgb(121, 119, 177); \n    transition-duration: 0.4s;\n}\n\n.dogsTextEdit {\n    cursor: pointer;\n    outline: none; \n    font-family: Comfortaa; \n    color: white; \n    background: rgb(107, 105, 158); \n    border: none !important; \n    border-radius: 2px;\n    padding: 6px;\n}\n\n.dogsTextEdit::placeholder {\n    color: rgb(216, 216, 216);\n}\n\n.dogsTextEdit::-webkit-scrollbar {\n    background: rgb(107 15 183) !important;\n}\n\n.dogsTextEdit::-webkit-scrollbar-thumb {\n    background: #ffffff !important;\n}\n\n.dogsTextEdit:focus {\n    border: 2px solid white !important;\n}\n\n#dogsPopup input:focus {\n    border: 2px solid white !important;\n}\n\n.dogsCheckBox {\n    display: flex;\n    align-items: center;\n    gap: 0 5px;\n}\n\n.dogsCheckBox-btn {\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 2.5vw;\n    height: 2.5vw;\n    min-width: 8px;\n    min-height: 8px;\n    max-width: 18px;\n    max-height: 18px;\n    background: white;\n    border: 2px solid #8b3fd2;\n    border-radius: 100px;\n    transition-duration: 0.4s;\n}\n\n.dogsCheckBox-btn:hover {\n    border: 2px solid #5713ba;\n    transition-duration: 0.4s;\n}\n\n.dogsCheckBox-btn[data-checked=\"true\"] {\n    background: #5713ba;\n    border-color: #5713ba;\n    transition-duration: 0.4s;\n}\n\n.dogsCheckBox-btn[data-checked=\"true\"]:hover {\n    background: #7331d6;\n    border-color: #7331d6;\n    transition-duration: 0.4s;\n}\n\n.dogsCheckBox-btn[data-checked=\"true\"]::before {\n    content: \"\u2714\";\n    color: white;\n    font-size: 15px;\n}\n\n.dogsNavBtn {\n    cursor: pointer;\n    width: 90%;\n    border: 2px solid rgb(203 203 203 / 9%);\n    border-radius: 4px;\n    background: none;\n    color: white;\n    padding: clamp(2px, 2vw, 8px);\n    background: rgb(193 193 193 / 9%);\n    font-family: Comfortaa;\n    font-size: clamp(10px, 2vw, 24px);\n    font-weight: bold;\n    transition-duration: 0.25s;\n}\n\n.dogsNavBtn:hover {\n    border: 2px solid rgba(251, 251, 251, 0.09);\n    background: rgba(241, 241, 241, 0.09);\n    transition-duration: 0.25s;\n}\n\n.dogsNavBtn[data-active=true] {\n    pointer-events: none;\n    border: 2px solid #ffffffb8;\n}\n\n#dogsFullScreen {\n    margin: auto; \n    top: 0; \n    bottom: 0; \n    left: 0; \n    right: 0;\n    position: absolute; \n    width: 100vw; \n    height: 50vw; \n    max-height: 100vh;\n    background: var(--blue-color); \n    font-family: Comfortaa;\n    z-index: 10;\n}\n\n.adaptive-font-size {\n    font-size: clamp(10px, 2vw, 20px);\n}\n\n.disabled {\n    opacity: 0.6; \n    pointer-events: none;\n}\n\n", "import { initStorage, modStorage } from \"@/modules/storage\";\nimport { loadRemoteControl } from \"@/modules/remoteControl\";\nimport { loadSettingsMenu } from \"@/modules/settingsMenu\";\nimport { loadCommands } from \"@/modules/commands\";\nimport { loadDeviousPadlock } from \"@/modules/deviousPadlock\";\nimport { chatSendChangelog, consoleLog, isVersionNewer, waitFor } from \"@/modules/utils\";\nimport css from \"./styles.css\";\n\nexport function getModVersion(): string {\n    return \"1.0.8\";\n}\n\nconst font = document.createElement(\"link\");\nfont.href = \"https://fonts.googleapis.com/css2?family=Comfortaa\";\nfont.rel = \"stylesheet\";\nfont.type = \"text/css\";\ndocument.head.append(font);\n\nconst style = document.createElement(\"style\");\nstyle.innerHTML = css;\ndocument.head.append(style);\n\nwaitFor(() => typeof window.Player?.MemberNumber === \"number\").then(() => {\n    initStorage();\n    loadSettingsMenu();\n    loadCommands();\n    loadRemoteControl();\n    loadDeviousPadlock();\n    consoleLog(`Ready! v${getModVersion()}`);\n\n    if (isVersionNewer(getModVersion(), modStorage.version)) {\n        if (modStorage.misc.autoShowChangelog ?? true) {\n            if (ServerPlayerIsInChatRoom()) {\n                modStorage.version = getModVersion();\n                chatSendChangelog();\n            } else {\n                ServerSocket.once(\"ChatRoomSync\", () => {\n                    modStorage.version = getModVersion();\n                    chatSendChangelog();\n                });\n            }\n        } else modStorage.version = getModVersion();\n    }\n});\n\n\n\n"],
  "mappings": "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",
  "names": ["bcModSdk", "o", "e", "t", "n", "r", "i", "a", "c", "l", "d", "g", "s", "p", "style", "bcModSdk", "bcModSdk", "data", "deviousPadlock", "commands"]
}
